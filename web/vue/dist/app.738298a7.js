(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],r[i]&&m.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={1:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([30,0]),a()})({"/Dpa":function(t,e,a){"use strict";var n=a("VZpO"),r=a.n(n);r.a},"/vJE":function(t,e,a){"use strict";var n=a("yuKf"),r=a.n(n);r.a},"0Bu0":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd-row-col-3-6"},[a("table",{staticClass:"p1"},[a("tr",[a("th",[t._v("amount of trades")]),a("td",[t._v(t._s(t.report.trades))])]),a("tr",[a("th",[t._v("sharpe ratio")]),a("td",[t._v(t._s(t.round2(t.report.sharpe)))])]),a("tr",[a("th",[t._v("start balance")]),a("td",[t._v(t._s(t.round(t.report.startBalance))+" "+t._s(t.report.currency))])]),a("tr",[a("th",[t._v("final balance")]),a("td",[t._v(t._s(t.round(t.report.balance))+" "+t._s(t.report.currency))])]),t._m(0)]),a("div",{staticClass:"big txt--right price",class:t.profitClass},[t._v(t._s(t.round(t.report.relativeProfit))+"%")])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("simulated profit")])])}],s={props:["report"],methods:{round2:function(t){return(+t).toFixed(2)},round:function(t){return(+t).toFixed(5)}},computed:{profitClass:function(){return this.report.relativeProfit>0?"profit":"loss"}}},i=s,o=(a("tr8z"),a("KHd+")),c=Object(o["a"])(i,n,r,!1,null,null,null);e["a"]=c.exports},"0zrD":function(t,e,a){"use strict";var n=a("jf14"),r=a.n(n);r.a},"2A8w":function(t,e,a){"use strict";var n=a("TDb6"),r=a.n(n);r.a},"2Yda":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain my2"},[t._m(0),a("div",{staticClass:"grd"},[a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("div",{staticClass:"mx1"},[a("label",{staticClass:"wrapper",attrs:{for:"startFrom"}},[t._v("Start Time for analyzing the data (UTC):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.startFrom,expression:"startFrom"}],domProps:{value:t.startFrom},on:{input:function(e){e.target.composing||(t.startFrom=e.target.value)}}})])]),a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("div",{staticClass:"mx1"},[a("label",{staticClass:"wrapper",attrs:{for:"startFrom"}},[t._v("Current Time only for testing (UTC) (optional):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentTime,expression:"currentTime"}],domProps:{value:t.currentTime},on:{input:function(e){e.target.composing||(t.currentTime=e.target.value)}}})])]),a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("div",{staticClass:"grd-row mx1"},[a("div",{staticClass:"grd-row-col-1-6"},[a("Enable",[t._v("nodeipc?")])],1),a("div",{staticClass:"grd-row-col-1-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.nodeipcEnabled,expression:"nodeipcEnabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.nodeipcEnabled)?t._i(t.nodeipcEnabled,null)>-1:t.nodeipcEnabled},on:{change:function(e){var a=t.nodeipcEnabled,n=e.target,r=!!n.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);n.checked?i<0&&(t.nodeipcEnabled=a.concat([s])):i>-1&&(t.nodeipcEnabled=a.slice(0,i).concat(a.slice(i+1)))}else t.nodeipcEnabled=r}}})])])])]),a("gekko-config-builder",{on:{config:t.updateConfig}}),a("div",{staticClass:"hr"}),t.config.valid?a("div",{staticClass:"txt--center"},[t.pendingStratrunner?t._e():a("a",{staticClass:"w100--s my1 btn--primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.start(e)}}},[t._v("Start")]),t.pendingStratrunner?a("spinner"):t._e()],1):t._e()],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx1"},[a("div",{staticClass:"mx1"},[a("h3",[t._v("Start a new gekko")])])])}],s=(a("Z2Ku"),a("L9s1"),a("dRSK"),a("LvDl")),i=a.n(s),o=a("Kw5r"),c=a("wiDz"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd contain"},[a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("h3",[t._v("Market")]),a("market-picker",{attrs:{"only-tradable":t.isTradebot},on:{market:t.updateMarketConfig}})],1),a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("type-picker",{on:{type:t.updateType}})],1)]),"market watcher"!==t.type?[a("div",{staticClass:"hr"}),a("strat-picker",{staticClass:"contain my2",on:{stratConfig:t.updateStrat}}),"paper trader"===t.type?a("div",{staticClass:"hr"}):t._e(),"paper trader"===t.type?a("paper-trader",{on:{settings:t.updatePaperTrader}}):t._e()]:t._e()],2)},u=[],d=(a("91GP"),a("6BxS")),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Type")]),[a("label",{staticClass:"wrapper",attrs:{for:"type"}},[t._v("What do you want to do with gekko?")]),a("form",{staticClass:"radio grd"},t._l(t.types,function(e,n){return a("div",{staticClass:"grd-row m1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedTypeIndex,expression:"selectedTypeIndex"}],staticClass:"grd-row-col-1-6",attrs:{type:"radio"},domProps:{value:n,checked:t._q(t.selectedTypeIndex,n)},on:{change:function(e){t.selectedTypeIndex=n}}}),a("label",{staticClass:"grd-row-col-5-6",attrs:{for:n}},[t._v(t._s(e))])])}))]],2)},h=[],f={created:function(){this.emitType()},data:function(){return{types:["paper trader","market watcher","tradebot"],selectedTypeIndex:0}},methods:{emitType:function(){this.$emit("type",this.type)}},watch:{type:function(){this.emitType()}},computed:{type:function(){return this.types[this.selectedTypeIndex]}}},v=f,p=(a("wVPO"),a("KHd+")),g=Object(p["a"])(v,m,h,!1,null,null,null),_=g.exports,k=a("6Wkr"),y=a("rloZ"),b={created:function(){var t=this;Object(c["b"])("configPart/candleWriter",function(e,a){t.candleWriter=toml.parse(a.part)}),Object(c["b"])("configPart/performanceAnalyzer",function(e,a){t.performanceAnalyzer=toml.parse(a.part),t.performanceAnalyzer.enabled=!0})},data:function(){return{market:{},range:{},type:"",strat:{},paperTrader:{},candleWriter:{},performanceAnalyzer:{}}},components:{marketPicker:d["a"],typePicker:_,stratPicker:k["a"],paperTrader:y["a"]},computed:{isTradebot:function(){return"tradebot"===this.type},config:function(){var t={};return Object.assign(t,this.market,this.strat,{paperTrader:this.paperTrader},{candleWriter:this.candleWriter},{type:this.type},{performanceAnalyzer:this.performanceAnalyzer}),this.isTradebot&&(delete t.paperTrader,t.trader={enabled:!0}),t.valid=this.validConfig(t),t}},methods:{validConfig:function(t){if("market watcher"===t.type)return!0;if(!t.tradingAdvisor)return!1;if(i.a.isNaN(t.tradingAdvisor.candleSize))return!1;if(0==t.tradingAdvisor.candleSize)return!1;var e=t.tradingAdvisor.method;return!i.a.isEmpty(t[e])},updateMarketConfig:function(t){this.market=t,this.emitConfig()},updateType:function(t){this.type=t,this.emitConfig()},updateStrat:function(t){this.strat=t,this.emitConfig()},updatePaperTrader:function(t){this.paperTrader=t,this.paperTrader.enabled=!0,this.emitConfig()},emitConfig:function(){this.$emit("config",this.config)}}},w=b,x=(a("YEdZ"),Object(p["a"])(w,l,u,!1,null,null,null)),C=x.exports,j=a("MB/c"),S=a("spvI"),T={components:{gekkoConfigBuilder:C,spinner:j["a"]},data:function(){return{pendingStratrunner:!1,config:{},startFrom:moment.utc("2018-10-01 00:00").format(),currentTime:moment.utc("2018-12-01 00:00").format(),nodeipcEnabled:!1}},mixins:[S["a"]],computed:{gekkos:function(){return this.$store.state.gekkos},watchConfig:function(){var t=i.a.pick(this.config,"watch","candleWriter"),e=o["a"].util.extend({},t);return e.type="market watcher",e.mode="realtime",e},requiredHistoricalData:function(){if(this.config.tradingAdvisor&&this.config.valid){var t=this.config.tradingAdvisor;return t.candleSize*t.historySize}},gekkoConfig:function(){var t;if(this.currentTime||this.existingMarketWatcher){var e=moment().utc();if(this.startFrom&&(e=moment(this.startFrom).utc()),this.requiredHistoricalData){var a=e.startOf("minute").subtract(this.requiredHistoricalData,"minutes").hour(0).minute(0);t=a.format()}else t=e.startOf("minute").format();var n=o["a"].util.extend({market:{type:"leech",from:t,currentTime:this.currentTime},mode:"realtime",strategyUpdateWriter:{enabled:"true"},nodeipc:{enabled:this.nodeipcEnabled}},this.config);return n.candleWriter.enabled=!1,n}},existingMarketWatcher:function(){var t=o["a"].util.extend({},this.watchConfig.watch);return i.a.find(this.gekkos,{config:{watch:t}})},exchange:function(){return this.watchConfig.watch.exchange},existingTradebot:function(){var t=this;return i.a.find(this.gekkos,function(e){return"tradebot"===e.logType&&e.config.watch.exchange===t.exchange})},availableApiKeys:function(){return this.$store.state.apiKeys}},watch:{existingMarketWatcher:function(t,e){var a=this;if(this.pendingStratrunner){var n=this.existingMarketWatcher;n.events.latest.candle&&(this.pendingStratrunner=!1,this.startGekko(function(t,e){a.$router.push({path:"/live-gekkos/".concat(e.id)})}))}}},methods:{updateConfig:function(t){this.config=t},checkAvailableHistoricalData:function(){var t=this;if(this.requiredHistoricalData){this.pendingStratrunner=!0;var e=moment().utc(this.startFrom).startOf("minute").subtract(this.requiredHistoricalData,"minutes").hour(0).minute(0).unix(),a=moment().utc().startOf("minute").subtract(4,"hours").unix();return new Promise(function(n,r){t.scanDateRange(t.config,function(t){var s=t.filter(function(t){if(moment.unix(t.from)<=moment.unix(e)&&moment.unix(t.to)>=moment.unix(a))return!0});0===s.length?(alert("You dont have enough historical data. Import first more data from exchange since: "+moment.unix(e).format("YYYY-MM-DD")),r()):(console.log("alles super!"),n())})})}},start:function(){var t=this;if("tradebot"===this.config.type){if(this.existingTradebot){var e="You already have a tradebot running on this exchange";return e+=", you can only run one tradebot per exchange.",alert(e)}if(!this.availableApiKeys.includes(this.exchange))return alert("Please first configure API keys for this exchange in the config page.")}"market watcher"===this.config.type?this.existingMarketWatcher?(alert("This market is already being watched, redirecting you now..."),this.$router.push({path:"/live-gekkos/".concat(this.existingMarketWatcher.id)})):this.startWatcher(function(e,a){t.$router.push({path:"/live-gekkos/".concat(a.id)})}):this.checkAvailableHistoricalData().then(function(e){t.existingMarketWatcher||(t.currentTime?t.startGekko(function(e,a){t.$router.push({path:"/live-gekkos/".concat(a.id)})}):t.startWatcher(function(e,a){t.pendingStratrunner=a.id}))}).catch(function(){return t.pendingStratrunner=!1})},routeToGekko:function(t,e){if(t||e.error)return console.error(t,e.error);this.$router.push({path:"/live-gekkos/".concat(e.id)})},startWatcher:function(t){Object(c["c"])("startGekko",this.watchConfig,t)},startGekko:function(t){Object(c["c"])("startGekko",this.gekkoConfig,t)}}},E=T,P=(a("2A8w"),Object(p["a"])(E,n,r,!1,null,null,null));e["a"]=P.exports},"2rY9":function(t,e,a){"use strict";var n=a("SWS5"),r=a.n(n);r.a},30:function(t,e,a){t.exports=a("Vtdi")},"5/bm":function(t,e,a){},"5shn":function(t,e,a){"use strict";var n=a("DlQD"),r=a.n(n),s=r.a,i=new s.Renderer;i.link=function(t,e,a){var n,r,s;return n=/^https?:\/\/.+$/.test(t),r=n||"newWindow"===e,s='<a href="'+t+'"',r&&(s+=' target="_blank"'),e&&"newWindow"!==e&&(s+=' title="'+e+'"'),s+">"+a+"</a>"},s.setOptions({renderer:i}),e["a"]=s},"6BxS":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx1"},[a("label",{staticClass:"wrapper",attrs:{for:"exchange"}},[t._v("Exchange:")]),a("div",{staticClass:"custom-select button"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.exchange,expression:"exchange"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.exchange=e.target.multiple?a:a[0]}}},t._l(t.exchanges,function(e,n){return a("option",[t._v(t._s(n))])}))])]),a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("label",{attrs:{for:"currency"}},[t._v("Currency:")]),a("div",{staticClass:"custom-select button"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.currency,expression:"currency"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.currency=e.target.multiple?a:a[0]}}},t._l(t.currencies,function(e){return a("option",[t._v(t._s(e))])}))])]),a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("label",{attrs:{for:"asset"}},[t._v("Asset:")]),a("div",{staticClass:"custom-select button"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.asset,expression:"asset"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.asset=e.target.multiple?a:a[0]}}},t._l(t.assets,function(e){return a("option",[t._v(t._s(e))])}))])])])])},r=[],s=(a("rGqo"),a("yt8O"),a("f3/d"),a("91GP"),a("LvDl")),i=a.n(s),o=(a("YIjs"),a("FhOJ"),a("wiDz"),{props:["onlyTradable","onlyImportable"],data:function(){return{exchange:"poloniex",currency:"USDT",asset:"BTC"}},created:function(){this.emitConfig()},computed:{exchanges:function(){var t=Object.assign({},this.$store.state.exchanges);return!i.a.isEmpty(t)&&(this.onlyTradable&&i.a.each(t,function(e,a){e.tradable||delete t[a]}),this.onlyImportable&&i.a.each(t,function(e,a){e.importable||delete t[a]}),t)},markets:function(){return this.exchanges?this.exchanges[this.exchange]:null},assets:function(){return this.exchanges?this.exchanges[this.exchange].markets[this.currency]:null},currencies:function(){return this.exchanges?i.a.keys(this.exchanges[this.exchange].markets):null},watchConfig:function(){return{watch:{exchange:this.exchange,currency:this.currency,asset:this.asset}}}},watch:{currency:function(){this.emitConfig()},asset:function(){this.emitConfig()},market:function(){this.emitConfig()},exchanges:function(){this.emitConfig()},exchange:function(){this.emitConfig()}},methods:{emitConfig:function(){this.$emit("market",this.watchConfig)}}}),c=o,l=a("KHd+"),u=Object(l["a"])(c,n,r,!1,null,null,null);e["a"]=u.exports},"6Wkr":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd"},[a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6 px1"},[a("h3",[t._v("Strategy")]),a("div",[a("label",{staticClass:"wrapper",attrs:{for:"strat"}},[t._v("Strategy:")]),a("div",{staticClass:"custom-select button"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.strategy,expression:"strategy"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.strategy=e.target.multiple?a:a[0]}}},t._l(t.strategies,function(e){return a("option",[t._v(t._s(e.name))])}))])]),a("div",[a("label",{attrs:{for:"candleSize"}},[t._v("Candle Size")]),a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rawCandleSize,expression:"rawCandleSize"}],domProps:{value:t.rawCandleSize},on:{input:function(e){e.target.composing||(t.rawCandleSize=e.target.value)}}})]),a("div",{staticClass:"grd-row-col-3-6 align"},[a("div",{staticClass:"custom-select button"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.candleSizeUnit,expression:"candleSizeUnit"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.candleSizeUnit=e.target.multiple?a:a[0]}}},[a("option",[t._v("minutes")]),a("option",[t._v("hours")]),a("option",[t._v("days")])])])])])]),a("div",[a("label",{attrs:{for:"historySize"}},[t._v("Warmup period (in "+t._s(t.rawCandleSize)+" "+t._s(t.singularCandleSizeUnit)+" candles):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.historySize,expression:"historySize"}],domProps:{value:t.historySize},on:{input:function(e){e.target.composing||(t.historySize=e.target.value)}}}),a("em",{staticClass:"label-like"},[t._v("(will use "+t._s(t.humanizeDuration(t.candleSize*t.historySize*1e3*60))+" of data as history)")])])]),a("div",{staticClass:"grd-row-col-3-6 px1"},[a("div",[a("h3",[t._v("Parameters")]),a("p",[t._v(t._s(t.strategy)+" Parameters:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rawStratParams,expression:"rawStratParams"}],staticClass:"params",domProps:{value:t.rawStratParams},on:{input:function(e){e.target.composing||(t.rawStratParams=e.target.value)}}}),t.rawStratParamsError?a("p",{staticClass:"bg--red p1"},[t._v(t._s(t.rawStratParamsError.message))]):t._e()])])])])},r=[],s=(a("dRSK"),a("LvDl")),i=a.n(s),o=a("wiDz"),c={data:function(){return{strategies:[],candleSizeUnit:"hours",rawCandleSize:1,strategy:"MACD",historySize:10,rawStratParams:"",rawStratParamsError:!1,emptyStrat:!1,stratParams:{}}},created:function(){var t=this;Object(o["b"])("strategies",function(e,a){t.strategies=a,i.a.each(t.strategies,function(t){t.empty=""===t.params}),t.rawStratParams=i.a.find(t.strategies,{name:t.strategy}).params,t.emptyStrat=i.a.find(t.strategies,{name:t.strategy}).empty,t.emitConfig()})},watch:{strategy:function(t){t=i.a.find(this.strategies,{name:t}),this.rawStratParams=t.params,this.emptyStrat=t.empty,this.emitConfig()},candleSize:function(){this.emitConfig()},historySize:function(){this.emitConfig()},rawStratParams:function(){this.emitConfig()}},computed:{candleSize:function(){return"minutes"===this.candleSizeUnit?this.rawCandleSize:"hours"===this.candleSizeUnit?60*this.rawCandleSize:"days"===this.candleSizeUnit?60*this.rawCandleSize*24:void 0},singularCandleSizeUnit:function(){return this.candleSizeUnit.slice(0,-1)},config:function(){var t={tradingAdvisor:{enabled:!0,method:this.strategy,candleSize:+this.candleSize,historySize:+this.historySize}};return this.emptyStrat?t[this.strategy]={__empty:!0}:t[this.strategy]=this.stratParams,t}},methods:{humanizeDuration:function(t){return window.humanizeDuration(t)},emitConfig:function(){this.parseParams(),this.$emit("stratConfig",this.config)},parseParams:function(){try{this.stratParams=toml.parse(this.rawStratParams),this.rawStratParamsError=!1}catch(t){this.rawStratParamsError=t,this.stratParams={}}}}},l=c,u=(a("tr8f"),a("KHd+")),d=Object(u["a"])(l,n,r,!1,null,null,null);e["a"]=d.exports},"7LpK":function(t,e,a){},"8KAT":function(t,e,a){},"8pIT":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[t._m(0),t.backtests.length?a("table",{staticClass:"full"},[t._m(1),a("tbody",t._l(t.backtests,function(e){return a("tr",{on:{click:function(a){t.$router.push({path:"/backtests/"+e.id})}}},[a("td",[t._v(t._s(e.currency)+"-"+t._s(e.asset))]),a("td",[t._v(t._s(t.fmt(e.datefrom))+" - "+t._s(t.fmt(e.dateto)))]),a("td",[t._v(t._s(e.method))]),a("td",[t._v(t._s(e.config.tradingAdvisor.candleSize))]),a("td",[a("div",[t._v(t._s(t.round(t.profit(e.performance)))+" %")])]),a("td",[a("a",{staticClass:"w100--s my1 btn--red",on:{click:function(a){a.stopPropagation(),t.deleteBacktest(e.id)}}},[t._v("delete")])])])}))]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"center"},[a("h2",[t._v("Backtests List")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("pair")]),a("th",[t._v("date range")]),a("th",[t._v("method")]),a("th",[t._v("candlesize")]),a("th",[t._v("profit")]),a("th",[t._v("action")])])])}],s=(a("a1Th"),a("VRzm"),a("wiDz")),i={name:"backtestlist",data:function(){return{backtests:{}}},created:function(){this.getBacktests()},methods:{moment:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return moment.utc(t)}),fmt:function(t){return moment.unix(t).format("YYYY-MM-DD HH:mm")},round:function(t){return(+t).toFixed(3)},profit:function(t){return t?t.relativeProfit:0},deleteBacktest:function(t){var e=this;console.log("clicked"),Object(s["a"])("backtests/"+t,function(){e.getBacktests()})},getBacktests:function(){var t=this;Object(s["b"])("backtests",function(e,a){t.backtests=a})}}},o=i,c=a("KHd+"),l=Object(c["a"])(o,n,r,!1,null,null,null);e["a"]=l.exports},"9RND":function(t){t.exports={name:"gekko",version:"0.6.6",description:"A bitcoin trading bot for auto trading at various exchanges",keywords:["trading","bot","bitcoin","TA","finance"],scripts:{test:"./node_modules/.bin/mocha test/*.js --recursive test -u tdd --reporter spec",start:"node ./gekko --config sample-config.js --ui"},author:"Mike van Rossum <mike@mvr.me>",dependencies:{"@koa/cors":"^2.2.2",async:"2.1.2",commander:"^2.13.0",dotenv:"^6.0.0",koa:"^2.7.0","koa-bodyparser":"^4.2.1","koa-compress":"^3.0.0","koa-logger":"^2.0.0","koa-router":"^7.4.0","koa-static":"^5.0.0",lodash:"2.x","logzio-nodejs":"^0.4.15",moment:"^2.20.1",mysql:"^2.16.0",mysql2:"^2.1.0","node-ipc":"^9.1.1","node-telegram-bot-api":"^0.30.0",opn:"^4.0.2","prompt-lite":"0.1.1",raven:"^2.6.4",relieve:"^2.1.3",retry:"^0.10.1",semver:"5.4.1","stats-lite":"^2.0.4",toml:"^2.3.0",tulind:"^0.8.18",winston:"^3.1.0",ws:"^6.0.0"},devDependencies:{chai:"^4.1.2","chai-http":"^4.3.0",faker:"^4.1.0",mocha:"^5.0.0",proxyquire:"^1.7.10",request:"^2.83.0",sinon:"^4.5.0"},engines:{node:">=8.11.2"},license:"MIT",repository:{type:"git",url:"https://github.com/askmike/gekko.git"}}},CyGp:function(t,e,a){"use strict";var n=a("jTvs"),r=a.n(n);r.a},"DQ/Z":function(t,e,a){},EAJ1:function(t,e,a){},EDI0:function(t,e,a){},EfWa:function(t,e,a){},F8zc:function(t,e,a){},FhOJ:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Daterange")]),a("div",[a("label",{attrs:{for:"from"}},[t._v("From")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],domProps:{value:t.from},on:{input:function(e){e.target.composing||(t.from=e.target.value)}}})]),a("div",[a("label",{attrs:{for:"to"}},[t._v("To")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}})])])},r=[],s=(a("LvDl"),a("wiDz"),{data:function(){return{from:"",to:""}},created:function(){var t=moment().startOf("minute"),e=t.clone().subtract(3,"months");this.to=this.fmt(t),this.from=this.fmt(e),this.emitRange()},methods:{fmtTs:function(t){return moment.unix(t).utc()},fmt:function(t){return t.utc().format("YYYY-MM-DD HH:mm")},emitRange:function(){this.$emit("range",{from:this.fmtTs(this.from),to:this.fmtTs(this.to)})},emitManualEntry:function(){if(this.from.length<"4"||this.from.length<"4")return this.$emit("range",{});var t=moment.utc(this.from),e=moment.utc(this.to);t.isValid()&&e.isValid()?this.$emit("range",{from:this.fmt(t),to:this.fmt(e)}):this.$emit("range",{})}},watch:{from:function(){this.emitManualEntry()},to:function(){this.emitManualEntry()},config:function(){this.scanned=!1},tab:function(){this.scanned=!1,this.$emit("range",{})},selectedRangeIndex:function(){var t=this.ranges[this.selectedRangeIndex];t&&this.emitRange(t)}}}),i=s,o=(a("TPp/"),a("KHd+")),c=Object(o["a"])(i,n,r,!1,null,null,null);e["a"]=c.exports},"H+ir":function(t,e,a){"use strict";var n=a("5/bm"),r=a.n(n);r.a},IowZ:function(t,e,a){"use strict";var n=a("F8zc"),r=a.n(n);r.a},KYoj:function(t,e,a){},Kd0R:function(t,e,a){},"MB/c":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"rect1"}),a("div",{staticClass:"rect2"}),a("div",{staticClass:"rect3"}),a("div",{staticClass:"rect4"})])}],s={},i=s,o=(a("q431"),a("KHd+")),c=Object(o["a"])(i,n,r,!1,null,null,null);e["a"]=c.exports},MROq:function(t,e,a){var n={"./af":"8GSH","./af.js":"8GSH","./ar":"NcOb","./ar-dz":"1ors","./ar-dz.js":"1ors","./ar-kw":"Sc1Y","./ar-kw.js":"Sc1Y","./ar-ly":"GzvP","./ar-ly.js":"GzvP","./ar-ma":"hH25","./ar-ma.js":"hH25","./ar-sa":"u2jB","./ar-sa.js":"u2jB","./ar-tn":"5Mza","./ar-tn.js":"5Mza","./ar.js":"NcOb","./az":"ZVVJ","./az.js":"ZVVJ","./be":"kQaN","./be.js":"kQaN","./bg":"+n5x","./bg.js":"+n5x","./bm":"TTiN","./bm.js":"TTiN","./bn":"aIF2","./bn.js":"aIF2","./bo":"QWb5","./bo.js":"QWb5","./br":"iQoZ","./br.js":"iQoZ","./bs":"EL7g","./bs.js":"EL7g","./ca":"vd/2","./ca.js":"vd/2","./cs":"K+3W","./cs.js":"K+3W","./cv":"Jt3X","./cv.js":"Jt3X","./cy":"sWi3","./cy.js":"sWi3","./da":"YcFX","./da.js":"YcFX","./de":"BKZ+","./de-at":"Oq9h","./de-at.js":"Oq9h","./de-ch":"hHY4","./de-ch.js":"hHY4","./de.js":"BKZ+","./dv":"w8Ej","./dv.js":"w8Ej","./el":"tSbB","./el.js":"tSbB","./en-au":"HgyJ","./en-au.js":"HgyJ","./en-ca":"ZyTy","./en-ca.js":"ZyTy","./en-gb":"exaB","./en-gb.js":"exaB","./en-ie":"yKzn","./en-ie.js":"yKzn","./en-il":"TB59","./en-il.js":"TB59","./en-nz":"iDxo","./en-nz.js":"iDxo","./eo":"4bvN","./eo.js":"4bvN","./es":"GNPT","./es-do":"R7mU","./es-do.js":"R7mU","./es-us":"Nstw","./es-us.js":"Nstw","./es.js":"GNPT","./et":"ZOjb","./et.js":"ZOjb","./eu":"kFC9","./eu.js":"kFC9","./fa":"8Cju","./fa.js":"8Cju","./fi":"vcN1","./fi.js":"vcN1","./fo":"8Ygf","./fo.js":"8Ygf","./fr":"Y8Ij","./fr-ca":"t+Zl","./fr-ca.js":"t+Zl","./fr-ch":"SPXN","./fr-ch.js":"SPXN","./fr.js":"Y8Ij","./fy":"T3MF","./fy.js":"T3MF","./gd":"GJYX","./gd.js":"GJYX","./gl":"MdC8","./gl.js":"MdC8","./gom-latn":"5j0y","./gom-latn.js":"5j0y","./gu":"fY0S","./gu.js":"fY0S","./he":"ACAV","./he.js":"ACAV","./hi":"3WqV","./hi.js":"3WqV","./hr":"OnNk","./hr.js":"OnNk","./hu":"EQmw","./hu.js":"EQmw","./hy-am":"MNf7","./hy-am.js":"MNf7","./id":"0yow","./id.js":"0yow","./is":"TmOJ","./is.js":"TmOJ","./it":"xD/0","./it.js":"xD/0","./ja":"jOnb","./ja.js":"jOnb","./jv":"lOtj","./jv.js":"lOtj","./ka":"BAN/","./ka.js":"BAN/","./kk":"iNiw","./kk.js":"iNiw","./km":"TUxt","./km.js":"TUxt","./kn":"hQzt","./kn.js":"hQzt","./ko":"ZNZT","./ko.js":"ZNZT","./ky":"JO+T","./ky.js":"JO+T","./lb":"vn/h","./lb.js":"vn/h","./lo":"gnIm","./lo.js":"gnIm","./lt":"6PD3","./lt.js":"6PD3","./lv":"YKe2","./lv.js":"YKe2","./me":"d3TR","./me.js":"d3TR","./mi":"hTlv","./mi.js":"hTlv","./mk":"ffVN","./mk.js":"ffVN","./ml":"ejL1","./ml.js":"ejL1","./mn":"RIsM","./mn.js":"RIsM","./mr":"CPJk","./mr.js":"CPJk","./ms":"d5Hy","./ms-my":"t4T9","./ms-my.js":"t4T9","./ms.js":"d5Hy","./mt":"1KVU","./mt.js":"1KVU","./my":"LsNb","./my.js":"LsNb","./nb":"h+U8","./nb.js":"h+U8","./ne":"2JSI","./ne.js":"2JSI","./nl":"jsZ8","./nl-be":"+h6j","./nl-be.js":"+h6j","./nl.js":"jsZ8","./nn":"mh29","./nn.js":"mh29","./pa-in":"O6bP","./pa-in.js":"O6bP","./pl":"8Bez","./pl.js":"8Bez","./pt":"DDip","./pt-br":"uHm5","./pt-br.js":"uHm5","./pt.js":"DDip","./ro":"baBi","./ro.js":"baBi","./ru":"ecsu","./ru.js":"ecsu","./sd":"e9KM","./sd.js":"e9KM","./se":"CZRU","./se.js":"CZRU","./si":"TO58","./si.js":"TO58","./sk":"K+Lk","./sk.js":"K+Lk","./sl":"QK6v","./sl.js":"QK6v","./sq":"v3Qg","./sq.js":"v3Qg","./sr":"Ndyf","./sr-cyrl":"PGvg","./sr-cyrl.js":"PGvg","./sr.js":"Ndyf","./ss":"2B8G","./ss.js":"2B8G","./sv":"WF5B","./sv.js":"WF5B","./sw":"4VvY","./sw.js":"4VvY","./ta":"dw3T","./ta.js":"dw3T","./te":"4MAb","./te.js":"4MAb","./tet":"/hi0","./tet.js":"/hi0","./tg":"PoVJ","./tg.js":"PoVJ","./th":"OY2w","./th.js":"OY2w","./tl-ph":"UC+K","./tl-ph.js":"UC+K","./tlh":"cWLW","./tlh.js":"cWLW","./tr":"EqYs","./tr.js":"EqYs","./tzl":"fN8o","./tzl.js":"fN8o","./tzm":"6cYq","./tzm-latn":"pdAN","./tzm-latn.js":"pdAN","./tzm.js":"6cYq","./ug-cn":"J+SV","./ug-cn.js":"J+SV","./uk":"6Olw","./uk.js":"6Olw","./ur":"QNGR","./ur.js":"QNGR","./uz":"hLzJ","./uz-latn":"KqOT","./uz-latn.js":"KqOT","./uz.js":"hLzJ","./vi":"EnIJ","./vi.js":"EnIJ","./x-pseudo":"W7dU","./x-pseudo.js":"W7dU","./yo":"QDhB","./yo.js":"QDhB","./zh-cn":"bjMe","./zh-cn.js":"bjMe","./zh-hk":"JFCg","./zh-hk.js":"JFCg","./zh-tw":"xBDH","./zh-tw.js":"xBDH"};function r(t){var e=s(t);return a(e)}function s(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="MROq"},MwS5:function(t,e,a){"use strict";var n=a("tc0r"),r=a.n(n);r.a},Pf3K:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("top"),a("div",{staticClass:"fill"},[a("router-view",{staticClass:"view"})],1),a("bottom"),a("modal")],1)},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"top"}}),t._m(0),a("nav",{staticClass:"bg--light-gray"},[a("div",{staticClass:"menu contain"},[a("router-link",{staticClass:"py1",attrs:{to:"/home"}},[t._v("Home")]),a("router-link",{staticClass:"py1",attrs:{to:"/live-gekkos"}},[t._v("Live Gekkos")]),a("router-link",{staticClass:"py1",attrs:{to:"/backtest"}},[t._v("Backtest")]),a("router-link",{staticClass:"py1",attrs:{to:"/data"}},[t._v("Local data")]),a("router-link",{staticClass:"py1",attrs:{to:"/config"}},[t._v("Config")]),a("router-link",{staticClass:"py1",attrs:{to:"/backtests"}},[t._v("Backtests")]),t.isLoggedIn?t._e():a("router-link",{staticClass:"py1",attrs:{to:"/login"}},[t._v("Login")]),t.isLoggedIn?a("a",{staticClass:"py1",on:{click:t.logout}},[t._v("Logout")]):t._e()],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"bg--off-white grd"},[a("div",{staticClass:"contain grd-row"},[a("h3",{staticClass:"py1 px2 col-2"},[t._v("Gekko UI")])])])}],o=a("JR7u"),c=a.n(o),l={name:"dashboard",computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{logout:function(){var t=this;console.log("logout"),c.a.auth().signOut().then(function(){t.$store.dispatch("logout").then(function(){t.$router.push("/login")})})}}},u=l,d=(a("uMTv"),a("KHd+")),m=Object(d["a"])(u,s,i,!1,null,null,null),h=m.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"p2 bg--off-white"},[a("div",{staticClass:"contain"},[t._m(0),a("p",[t._v("Using Gekko v"+t._s(t.version.gekko)+" and Gekko UI v"+t._s(t.version.ui)+".")])])])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("em",[t._v("Use Gekko at your own risk.")])])}],p=a("kiQV"),g=a("9RND"),_=g,k=p,y={data:function(){return{version:{gekko:_.version,ui:k.version}}}},b=y,w=Object(d["a"])(b,f,v,!1,null,null,null),x=w.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.active?a("div",[a("div",{attrs:{id:"modal-background"}}),a("div",{staticClass:"modal",attrs:{id:"modal"}},[a("div",{staticClass:"modal-guts",domProps:{innerHTML:t._s(t.content)}})])]):t._e()},j=[],S=a("5shn"),T={disconnected:Object(S["a"])("\n\n## Disconnected\n\nSomething happened to either Gekko or the connection.\nPlease check the terminal where Gekko is running or\nyour network connection.\n\n*This message is shown when the UI is unable to open a websocket connection with the Gekko Server.*\n\n  ")},E={computed:{active:function(){return!this.$store.state.warnings.connected},content:function(){return this.$store.state.warnings.connected?"":T.disconnected}}},P=E,O=(a("TfKe"),Object(d["a"])(P,C,j,!1,null,null,null)),A=O.exports,D={name:"app",components:{top:h,bottom:x,modal:A}},z=D,$=(a("ZL7j"),Object(d["a"])(z,n,r,!1,null,null,null));e["a"]=$.exports},Q2AE:function(t,e,a){"use strict";var n={};a.r(n),a.d(n,"addImport",function(){return m}),a.d(n,"syncImports",function(){return h}),a.d(n,"updateImport",function(){return f});var r={};a.r(r),a.d(r,"syncGekkos",function(){return C}),a.d(r,"addGekko",function(){return j}),a.d(r,"updateGekko",function(){return S}),a.d(r,"archiveGekko",function(){return T}),a.d(r,"errorGekko",function(){return E}),a.d(r,"deleteGekko",function(){return P});var s={};a.r(s),a.d(s,"setGlobalWarning",function(){return O});var i={};a.r(i),a.d(i,"syncApiKeys",function(){return A}),a.d(i,"syncExchanges",function(){return D});var o={};a.r(o),a.d(o,"auth_success",function(){return z}),a.d(o,"logout",function(){return $});a("VRzm");var c=a("Kw5r"),l=a("L2JU"),u=a("LvDl"),d=a.n(u),m=(a("INYr"),function(t,e){return t.imports.push(e),t}),h=function(t,e){return t.imports=e,t},f=function(t,e){var a=t.imports.findIndex(function(t){return t.id===e.import_id}),n=t.imports[a];if(!n)return t;var r=c["a"].util.extend(n,e.updates);return c["a"].set(t.imports,a,r),t},v=a("oyJW"),p=a("yT7P"),g=a("iv4g"),_=(a("Z2Ku"),["marketUpdate"]),k=["marketStart","stratWarmupCompleted","noCandles"],y=["tradeCompleted","advice","roundtrip"],b=function(t,e){var a=e.type,n=e.payload;return t=Object(p["a"])({},t,{latestUpdate:new Date}),y.includes(a)&&(t=t.events[a]?Object(p["a"])({},t,{events:Object(p["a"])({},t.events,Object(v["a"])({},a,Object(g["a"])(t.events[a]).concat([n])))}):Object(p["a"])({},t,{events:Object(p["a"])({},t.events,Object(v["a"])({},a,[n]))})),t&&t.events&&!t.events.initial[a]&&!_.includes(a)&&(t=Object(p["a"])({},t,{events:Object(p["a"])({},t.events,{initial:Object(p["a"])({},t.events.initial,Object(v["a"])({},a,n))})})),k.includes(a)||(t=Object(p["a"])({},t,{events:Object(p["a"])({},t.events,{latest:Object(p["a"])({},t.events.latest,Object(v["a"])({},a,n))})})),t},w=b,x=w,C=function(t,e){return e?(t.gekkos=e.live,t.archivedGekkos=e.archive,t):t},j=function(t,e){return t.gekkos=Object(p["a"])({},t.gekkos,Object(v["a"])({},e.id,e)),t},S=function(t,e){return e.id&&d.a.has(t.gekkos,e.id)?(t.gekkos=Object(p["a"])({},t.gekkos,Object(v["a"])({},e.id,x(t.gekkos[e.id],e.event))),t):console.error("cannot update unknown gekko..")},T=function(t,e){return d.a.has(t.gekkos,e)?(t.archivedGekkos=Object(p["a"])({},t.archivedGekkos,Object(v["a"])({},e,Object(p["a"])({},t.gekkos[e],{stopped:!0,active:!1}))),t.gekkos=d.a.omit(t.gekkos,e),t):console.error("cannot archive unknown gekko..")},E=function(t,e){return d.a.has(t.gekkos,e.id)?(t.gekkos=Object(p["a"])({},t.gekkos,Object(v["a"])({},e.id,Object(p["a"])({},t.gekkos[e.id],{errored:!0,errorMessage:e.error}))),t):console.error("cannot error unknown gekko..")},P=function(t,e){return d.a.has(t.archivedGekkos,e)?(t.archivedGekkos=d.a.omit(t.archivedGekkos,e),t):console.error("cannot delete unknown gekko..")},O=function(t,e){return t.warnings[e.key]=e.value,t},A=function(t,e){return c["a"].set(t,"apiKeys",e),t},D=function(t,e){return c["a"].set(t,"exchanges",e),t},z=function(t,e){return t.user=e,t},$=function(t){return t.user=void 0,t};c["a"].use(l["a"]);var M=!1,N={};d.a.merge(N,n),d.a.merge(N,r),d.a.merge(N,s),d.a.merge(N,i),d.a.merge(N,o);e["a"]=new l["a"].Store({state:{warnings:{connected:!0},imports:[],gekkos:{},archivedGekkos:{},connection:{disconnected:!1,reconnected:!1},apiKeys:[],exchanges:{},token:localStorage.getItem("token")||"",user:void 0},mutations:N,strict:M,actions:{login:function(t,e){var a=t.commit;return new Promise(function(t,n){var r="ABC";localStorage.setItem("token",r),a("auth_success",e),t()})},logout:function(t){var e=t.commit;return new Promise(function(t,a){e("logout"),localStorage.removeItem("token"),t()})}},getters:{isLoggedIn:function(t){return!!t.user}}})},Q6eY:function(t,e,a){"use strict";var n=a("SDwi"),r=a.n(n);r.a},SDwi:function(t,e,a){},SWS5:function(t,e,a){},T0Mt:function(t,e,a){"use strict";var n=a("pd3X"),r=a.n(n);r.a},TDb6:function(t,e,a){},"TPp/":function(t,e,a){"use strict";var n=a("7LpK"),r=a.n(n);r.a},TfKe:function(t,e,a){"use strict";var n=a("ZpQ2"),r=a.n(n);r.a},UeuA:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{clickable:!t.isClicked},attrs:{id:"chartWrapper"}},[a("div",{staticClass:"shield",on:{click:function(e){return e.preventDefault(),t.click(e)}}}),a("svg",{attrs:{id:"chart",width:"960",height:t.height}})])},r=[],s=(a("yt8O"),a("/8Fb"),a("Vd3H"),a("a94B")),i=(a("f3/d"),a("rGqo"),a("Z2Ku"),a("L9s1"),a("LvDl")),o=a.n(i),c=a("wgY5"),l=a.n(c),u=function(t,e,a,n,r){var i={};r&&r.tradingAdvisor&&(i=r[r.tradingAdvisor.method]||{});var c=window.innerWidth,u={width:c,margin:{top:20,right:100,bottom:30,left:70},ohlc:{height:505},indicator:{height:100,padding:5}};u.plot={width:u.width-u.margin.left-u.margin.right},u.indicator.top=u.ohlc.height+u.indicator.padding,u.indicator.bottom=u.indicator.top+u.indicator.height+u.indicator.padding;var d=d3.scaleLinear().range([u.indicator.top,u.indicator.bottom]),m=(d3.timeParse("%d-%b-%y"),d3.zoom().scaleExtent([1,20]).on("zoom",X));d3.selectAll("g").on("scroll",null);var h,f,v,p=techan.scale.financetime().range([0,u.plot.width]),g=d3.scaleLinear().range([u.ohlc.height,0]),_=g.copy(),k=d3.scaleLinear().range([g(0),g(.2)]),y=techan.plot.candlestick().xScale(p).yScale(g),b=techan.plot.tradearrow().xScale(p).yScale(g).y(function(t){return t.type.includes("buy")?g(t.low)+5:t.type.includes("sell")?g(t.high)-5:g(t.price)}).on("mouseenter",nt).on("mouseout",rt),w={},x={},C=[];a.forEach(function(t){o.a.each(t.indicators,function(e,a){x[a]=x[a]?x[a]:[];var n=void 0!=i[a]?i[a].chart:void 0;if(n&&n.showInExtraWindow)1!=C.filter(function(t){return t.name===a}).length&&C.push({name:a,config:i[a].chart});else{var r="sma";n&&n.type&&(r=at(n.type)),w[a]=techan.plot[r]().xScale(p).yScale(g),w[a].config=n}var o=l.a.unix(t.date).toDate().getTimezoneOffset(),c={date:l.a.unix(t.date).add(o,"m").toDate()};n&&"stochastic"===n.type&&(c.middle=50,c.overbought=i[a].thresholds.up,c.oversold=i[a].thresholds.buy.strong_down,c.stochasticD=isNaN(+e.stochK)?null:+e.stochK,c.stochasticK=isNaN(+e.stochD)?null:+e.stochD),n&&"bollinger"===n.type&&(c.lowerBand=isNaN(+e.bbandsLower)?null:+e.bbandsLower,c.middleBand=isNaN(+e.bbandsMiddle)?null:+e.bbandsMiddle,c.upperBand=isNaN(+e.bbandsUpper)?null:+e.bbandsUpper),n&&"macd"===n.type&&(c.difference=+e.diff,c.macd=+e.macd,c.signal=+e.signal,c.zero=0),n&&"rsi"===n.type&&(c.middle=50,c.overbought=70,c.oversold=30,c.rsi=isNaN(+e)?null:+e),n&&"res_sup"===n.type?(c.value=isNaN(+e)?null:+e,c.props=e.props):isNaN(+e)?null!==e&&"object"===Object(s["a"])(e)?c.value=isNaN(+e.result)?null:+e.result:c.value=null:c.value=+e,x[a].push(c)})}),u.height=555+105*C.length,u.plot.height=u.height-u.margin.top-u.margin.bottom;for(var j=techan.plot.volume().accessor(y.accessor()).xScale(p).yScale(k),S=d3.axisBottom(p),T=techan.plot.axisannotation().axis(S).orient("bottom").format(d3.timeFormat("%Y-%m-%d %H:%M")).width(85).translate([0,u.plot.height]),E=d3.axisRight(g),P=techan.plot.axisannotation().axis(E).orient("right").format(d3.format(",.2f")).translate([p(1),0]),O=techan.plot.axisannotation().axis(E).orient("right").accessor(y.accessor()).format(d3.format(",.2f")).translate([p(1),0]),A=d3.axisLeft(_).tickFormat(d3.format("+.1%")),D=techan.plot.axisannotation().axis(A).orient("left"),z=d3.axisRight(k).ticks(3).tickFormat(d3.format(",.3s")),$=techan.plot.axisannotation().axis(z).orient("right").width(35),M=techan.plot.crosshair().xScale(T.axis().scale()).yScale(P.axis().scale()).xAnnotation(T).yAnnotation([P,D,$]).verticalWireRange([0,u.plot.height]).on("move",et),N=0;N<C.length;N++)Y(C[N],N);function Y(t,e){var a=d3.scaleLinear().range([d(e)+u.indicator.height,d(e)]);t.scale=a;var n=at(t.config.type),r=techan.plot[n]().xScale(p).yScale(a);t.plot=r,t.scale.domain(techan.scale.plot[n](x[t.name]).domain());var s=d3.axisRight(a).ticks(3);t.axis=s;var i=techan.plot.axisannotation().axis(s).orient("right").format(d3.format(",.2f")).translate([p(1),0]);t.annotation=i;var o=d3.axisLeft(a).ticks(3);t.axisLeft=o;var c=techan.plot.axisannotation().axis(o).orient("left").format(d3.format(",.2f"));t.annotationLeft=c;var l=techan.plot.crosshair().xScale(T.axis().scale()).yScale(i.axis().scale()).xAnnotation(T).yAnnotation([i,c]).verticalWireRange([0,u.plot.height]).on("move",et);t.crosshair=l}var I=d3.select("#chart").attr("width",u.width).attr("height",u.height),G=I.append("defs");G.append("clipPath").attr("id","ohlcClip").append("rect").attr("x",0).attr("y",0).attr("width",u.plot.width).attr("height",u.ohlc.height),G.selectAll("indicatorClip").data(C).enter().append("clipPath").attr("id",function(t,e){return"indicatorClip-"+e}).append("rect").attr("x",0).attr("y",function(t,e){return d(e)}).attr("width",u.plot.width).attr("height",u.indicator.height),I=I.append("g").attr("transform","translate("+u.margin.left+","+u.margin.top+")"),I.append("g").attr("class","x axis").attr("transform","translate(0,"+u.plot.height+")");var R=I.append("text").style("text-anchor","start").attr("class","label").attr("x",5).attr("y",8),K=I.append("g").attr("class","ohlc").attr("transform","translate(0,0)");K.append("g").attr("class","axis").attr("transform","translate("+p(1)+",0)").append("text").attr("transform","rotate(-90)").attr("y",-12).attr("dy",".71em").style("text-anchor","end").text("Price"),K.append("g").attr("class","close annotation up"),K.append("g").attr("class","volume").attr("clip-path","url(#ohlcClip)"),K.append("g").attr("class","candlestick").attr("clip-path","url(#ohlcClip)");var H={},L=20;o.a.each(w,function(t,e){var a=t.config&&t.config.style?t.config.style:"",n=t.config&&t.config.color?t.config.color:"blue",r=(a||"")+"stroke: ".concat(n,";");K.append("g").attr("class","indicator line-"+e).attr("clip-path","url(#ohlcClip)").attr("style",r),H[e]=I.append("text").style("text-anchor","start").attr("class","label").attr("x",5).attr("y",L).style("fill",n).text(e),L+=12}),K.append("g").attr("class","percent axis"),K.append("g").attr("class","volume axis");var B=I.selectAll("svg > g.indicator").data(C).enter().append("g").attr("class",function(t){return t.name+" indicator"});B.append("g").attr("class","axis right").attr("transform","translate("+p(1)+",0)"),B.append("g").attr("class","axis left").attr("transform","translate("+p(0)+",0)"),B.append("g").attr("class","indicator-plot").attr("clip-path",function(t,e){return"url(#indicatorClip-"+e+")"}).attr("style",function(t,e){var a="#000000";return t.config&&t.config.color&&(a=t.config.color),"stroke: ".concat(a)}),I.append("g").attr("class","crosshair ohlc").call(M),I.append("g").attr("class","tradearrow").attr("clip-path","url(#ohlcClip)");var W={};C.forEach(function(t,e){W[t.name]=I.append("text").style("text-anchor","start").attr("class","label").attr("x",5).attr("y",d(e)+10).style("fill","blue").text(t.name+":")});var U=I.append("text").style("text-anchor","end").attr("class","coords").attr("x",u.plot.width-20).attr("y",8),F=y.accessor(),q=10,V=d3.bisector(F.d).left,J=t.map(function(t){var e=l.a.unix(t.start).toDate().getTimezoneOffset();return{date:l.a.unix(t.start).add(e,"m").toDate(),open:+t.open,high:+t.high,low:+t.low,close:+t.close,volume:+t.volume}}).sort(function(t,e){return d3.ascending(F.d(t),F.d(e))});p.domain(techan.scale.plot.time(J).domain()),g.domain(techan.scale.plot.ohlc(J.slice(q)).domain()),_.domain(techan.scale.plot.percent(g,F(J[q])).domain()),k.domain(techan.scale.plot.volume(J).domain());var Z=0;r&&r.tradingAdvisor&&(Z=+r.tradingAdvisor.candleSize);var Q=e.map(function(t){var e=o.a.pick(t,["price"]);e.quantity=1,e.type=t.action.includes("buy")?"buy":"sell";var a=l.a.unix(t.date).toDate().getTimezoneOffset(),n=l.a.unix(t.date).add(a,"m");return Z%60===0?n.minutes(0):n.subtract(n.minutes%Z,"m"),e.date=n.toDate(),e.dateoriginal=t.date,e.high=e.price,e.low=e.price,e.adviceProps=t.adviceProps,e});function X(){var t=d3.event.transform.rescaleX(v).domain();p.zoomable().domain(t),g.domain(d3.event.transform.rescaleY(h).domain()),_.domain(d3.event.transform.rescaleY(f).domain()),tt()}function tt(){I.select("g.x.axis").call(S),I.select("g.ohlc .axis").call(E),I.select("g.volume.axis").call(z),I.select("g.percent.axis").call(A),C.forEach(function(t){I.select("g."+t.name+" .axis.right").call(t.axis),I.select("g."+t.name+" .axis.left").call(t.axisLeft),I.select("g."+t.name+" .indicator-plot").call(t.plot.refresh),I.select("g.crosshair."+t.name).call(t.crosshair.refresh)}),I.select("g.candlestick").call(y.refresh),I.select("g.close.annotation").call(O.refresh),I.select("g.volume").call(j.refresh),o.a.each(w,function(t,e){I.select("g.indicator.line-"+e).call(t.refresh)}),I.select("g.crosshair.ohlc").call(M.refresh),I.select("g.tradearrow").call(b.refresh)}function et(t){var e=V(J,t.x),a=J[e];o.a.each(w,function(t,a){var n="";x[a][e]&&(n=x[a][e].value),H[a].text(a+": "+P.format()(n))}),C.forEach(function(t){var a={};if(x[t.name][e]&&(a=x[t.name][e]),a.value)W[t.name].text(t.name+": "+P.format()(a.value));else{var n=Object.entries(a),r="";n.forEach(function(t){"date"!==t[0]&&(r+=t[0]+": "+P.format()(t[1])+" ")}),W[t.name].text(name+" "+r)}}),R.text(T.format()(t.x||new Date)+" - O: "+P.format()(a.open)+" | H: "+P.format()(a.high)+" | L: "+P.format()(a.low)+" | C: "+P.format()(a.close)+" - Vol: "+z.tickFormat()(a.volume))}function at(t){var e="sma";return t&&"bollinger"===t?e=t:t&&"stochastic"===t?e=t:t&&"rsi"===t?e=t:t&&"macd"===t&&(e=t),e}function nt(t){U.style("display","inline");var e="";if(t.adviceProps){var a=Object.entries(t.adviceProps);a.forEach(function(t){"date"!==t[0]&&"type"!==t[0]&&(e+=t[0]+": "+P.format()(t[1])+" ")})}U.text("Trade: "+l.a.unix(t.dateoriginal).utc().format("YYYY-MM-DD HH:mm")+", "+t.type+", "+P.format()(t.price)+" "+e)}function rt(){U.style("display","none")}I.select("g.candlestick").datum(J).call(y),I.select("g.close.annotation").datum([J[J.length-1]]).call(O),I.select("g.crosshair.ohlc").call(M).call(m),I.select("g.volume").datum(J).call(j),o.a.each(w,function(t,e){I.select("g.indicator.line-"+e).datum(x[e]).call(t)}),C.forEach(function(t){I.append("g").attr("class","crosshair "+t.name),t.config&&t.config.type,I.select("g."+t.name+" .indicator-plot").datum(x[t.name]).call(t.plot),I.select("g.crosshair."+t.name).call(t.crosshair).call(m)}),I.select("g.tradearrow").datum(Q).call(b),v=p.zoomable().clamp(!1).domain([q,J.length]).copy(),h=g.copy(),f=_.copy(),et({x:p.domain()[p.domain().length-1],y:1}),tt()},d=(a("dRSK"),function(t){d3.select("#chart").append("text").attr("class","message").attr("x",150).attr("y",150).text(t)}),m=4,h={props:["data","height","config"],data:function(){return{isClicked:!1}},watch:{data:function(){this.render()}},created:function(){setTimeout(this.render,100)},beforeDestroy:function(){this.remove()},methods:{click:function(){this.isClicked=!0},render:function(){this.remove(),_.size(this.data.stratCandles)<m?d("Not enough data to spawn chart"):u(this.data.stratCandles,this.data.trades,this.data.stratUpdates,this.height,this.config)},remove:function(){d3.select("#chart").html("")}}},f=h,v=(a("T0Mt"),a("KHd+")),p=Object(v["a"])(f,n,r,!1,null,null,null);e["a"]=p.exports},"Ug4+":function(t,e,a){},V4qv:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("div",{staticClass:"center"},[a("h2",[t._v("Login")]),a("form",{attrs:{autocomplete:"on"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{placeholder:"Email",type:"text",autocomplete:"username"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"Password",type:"password",autocomplete:"current-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("br"),a("a",{staticClass:"btn--primary",on:{click:t.login}},[t._v("Connection")])])])])},r=[],s=(a("pIFo"),a("VRzm"),a("JR7u")),i=a.n(s),o={name:"login",data:function(){return{email:"",password:""}},mounted:function(){},methods:{login:function(){var t=this;this.$router.replace("home"),i.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){var a={displayName:e.displayName,email:e.email};t.$store.dispatch("login",a).then(function(){return t.$router.push("/home")}).catch(function(t){return console.log(t)})},function(t){alert("Oops. "+t.message)})},socialLogin:function(){var t=this;console.log("social login");var e=new i.a.auth.GoogleAuthProvider;i.a.auth().signInWithPopup(e).then(function(e){e.credential.accessToken;var a={displayName:e.user.displayName,email:e.user.email};t.$store.dispatch("login",a).then(function(){return t.$router.push("/home")}).catch(function(t){return console.log(t)})}).catch(function(t){error.code,error.message,error.email,error.credential;alert("Oops. "+t.message)})}}},c=o,l=(a("ojU+"),a("KHd+")),u=Object(l["a"])(c,n,r,!1,null,"977fbcf4",null);e["a"]=u.exports},VZpO:function(t,e,a){},Vtdi:function(t,e,a){"use strict";a.r(e),function(t){a("VRzm");var e=a("Kw5r"),n=a("JR7u"),r=a.n(n),s=a("Pf3K"),i=a("jE9Z"),o=a("Q2AE"),c=a("bqjz"),l=a("8pIT"),u=a("cEP6"),d=a("ldlP"),m=a("dHeD"),h=a("jloR"),f=a("g298"),v=a("WqVH"),p=a("hGnM"),g=a("2Yda"),_=a("mf2E"),k=a("gYof"),y=a("V4qv"),b=a("Ws4e");e["a"].use(i["a"]);var w=new i["a"]({mode:"hash",base:t,routes:[{path:"/",redirect:"/login"},{path:"/home",component:d["a"]},{path:"/backtest",component:c["a"],meta:{requiresAuth:!0}},{path:"/backtests",component:l["a"],meta:{requiresAuth:!0}},{path:"/backtests/:id",component:u["a"],meta:{requiresAuth:!0}},{path:"/config",component:v["a"],meta:{requiresAuth:!0}},{path:"/data",component:m["a"],meta:{requiresAuth:!0}},{path:"/data/importer",component:h["a"],meta:{requiresAuth:!0}},{path:"/data/importer/import/:id",component:f["a"],meta:{requiresAuth:!0}},{path:"/live-gekkos",component:p["a"],meta:{requiresAuth:!0}},{path:"/live-gekkos/new",component:g["a"],meta:{requiresAuth:!0}},{path:"/live-gekkos/:id",component:_["a"],meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:y["a"]},{path:"/sign-up",name:"SignUp",component:b["a"]}]}),x={apiKey:"AIzaSyBd9dsdKY3JsRmP89cZeSKbsBofhw6BQXE",authDomain:"gekko-cf9d3.firebaseapp.com",databaseURL:"https://gekko-cf9d3.firebaseio.com",projectId:"gekko-cf9d3",storageBucket:"gekko-cf9d3.appspot.com",messagingSenderId:"964289146416",appId:"1:964289146416:web:f3c4f2a1e2d6765b"};r.a.initializeApp(x),w.beforeEach(function(t,e,a){var n=r.a.auth().currentUser,s=t.matched.some(function(t){return t.meta.requiresAuth});s&&!n?a("login"):a()}),Object(k["b"])(),new e["a"]({router:w,store:o["a"],el:"#app",render:function(t){return t(s["a"])}})}.call(this,"/")},WlXR:function(t,e,a){"use strict";var n=a("jnJk"),r=a.n(n);r.a},WqVH:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("h2",[t._v("Config")]),a("div",{staticClass:"hr"}),a("h3",[t._v("Available API keys")]),t.apiKeySets.length?t._e():a("p",[a("em",[t._v("You don't have any API keys yet.")])]),a("ul",t._l(t.apiKeySets,function(e){return a("li",[t._v(t._s(e)+" ("),a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.removeApiKey(e)}}},[t._v("remove")]),t._v(")")])})),t.addApiToggle?t._e():a("a",{staticClass:"btn--primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openAddApi(e)}}},[t._v("Add an API key")]),t.addApiToggle?[a("div",{staticClass:"hr"}),a("apiConfigBuilder")]:t._e(),a("div",{staticClass:"hr"})],2)},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd contain"},[a("h3",[t._v("Add an API key")]),a("p",[t._v("Make sure that the API key has the permissions to create and cancel orders and view balances.")]),a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("h3",[t._v("Exchange")]),a("exchange-picker",{attrs:{"only-tradable":"true"},on:{exchange:t.updateExchange}})],1),a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("h3",[t._v("Credentials")]),t._l(t.requires,function(e){return[a("label",[t._v(t._s(e))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials[e],expression:"credentials[cred]"}],domProps:{value:t.credentials[e]},on:{input:function(a){a.target.composing||t.$set(t.credentials,e,a.target.value)}}})]})],2)]),a("div",{staticClass:"txt--center"},[a("a",{staticClass:"w100--s my1 btn--primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.upload(e)}}},[t._v("Add")])])])},i=[],o=(a("Z2Ku"),a("L9s1"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx1"},[a("label",{staticClass:"wrapper",attrs:{for:"exchange"}},[t._v("Exchange:")]),a("div",{staticClass:"custom-select button"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.exchange,expression:"exchange"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.exchange=e.target.multiple?a:a[0]}}},t._l(t.exchanges,function(e,n){return a("option",[t._v(t._s(n))])}))])])])}),c=[],l=(a("f3/d"),a("91GP"),a("LvDl")),u=a.n(l),d=(a("YIjs"),a("FhOJ"),a("wiDz")),m={props:["onlyTradable","onlyImportable"],data:function(){return{exchange:"poloniex"}},created:function(){this.emitExchange()},computed:{exchanges:function(){var t=Object.assign({},this.$store.state.exchanges);return!u.a.isEmpty(t)&&(this.onlyTradable&&u.a.each(t,function(e,a){e.tradable||delete t[a]}),this.onlyImportable&&u.a.each(t,function(e,a){e.importable||delete t[a]}),t)}},watch:{exchanges:function(){this.emitExchange()},exchange:function(){this.emitExchange()}},methods:{emitExchange:function(){this.$emit("exchange",this.exchange)}}},h=m,f=a("KHd+"),v=Object(f["a"])(h,o,c,!1,null,null,null),p=v.exports,g={data:function(){return{exchange:!1,credentials:{}}},components:{exchangePicker:p},computed:{apiKeySets:function(){return this.$store.state.apiKeys},exchanges:function(){return this.$store.state.exchanges},requires:function(){return this.exchanges&&this.exchange?this.exchanges[this.exchange].requires:[]},config:function(){var t={exchange:this.exchange,values:this.credentials};return t}},watch:{credentials:function(){this.emitConfig()}},methods:{updateExchange:function(t){this.credentials={},this.exchange=t,this.emitConfig()},emitConfig:function(){this.$emit("config",this.config)},upload:function(){var t=this,e=this.config.exchange;this.exchanges&&this.apiKeySets.includes(e)&&!confirm("You already have API keys for ".concat(e," defined, do you want to overwrite them?"))||Object(d["c"])("addApiKey",this.config,function(e,a){if(e)return alert(e);t.credentials={}})}}},_=g,k=(a("aOB3"),Object(f["a"])(_,s,i,!1,null,null,null)),y=k.exports,b={components:{apiConfigBuilder:y},data:function(){return{addApiToggle:!1}},methods:{openAddApi:function(){this.addApiToggle=!0},removeApiKey:function(t){confirm("Are you sure you want to delete these API keys?")&&Object(d["c"])("removeApiKey",{exchange:t},function(t,e){if(t)return alert(t)})}},computed:{apiKeySets:function(){return this.$store.state.apiKeys}},watch:{apiKeySets:function(){this.addApiToggle=!1}}},w=b,x=Object(f["a"])(w,n,r,!1,null,null,null);e["a"]=x.exports},Ws4e:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("div",{staticClass:"center"},[a("div",{},[a("h2",[t._v("Sign Up")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("br"),a("a",{staticClass:"btn--primary",on:{click:t.signUp}},[t._v("Sign Up")]),a("span",[t._v("or go back to "),a("router-link",{attrs:{to:"/login"}},[t._v("login")]),t._v(".")],1)])])])},r=[],s=(a("pIFo"),a("JR7u")),i=a.n(s),o={name:"signUp",data:function(){return{email:"",password:""}},methods:{signUp:function(){var t=this;i.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){t.$router.replace("home")},function(t){alert("Oops. "+t.message)})}}},c=o,l=(a("MwS5"),a("KHd+")),u=Object(l["a"])(c,n,r,!1,null,"74c133b6",null);e["a"]=u.exports},YEdZ:function(t,e,a){"use strict";var n=a("jVW9"),r=a.n(n);r.a},YIjs:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Daterange")]),"scan"===t.tab?[t.scanned?t._e():a("div",{staticClass:"txt--center"},[a("a",{staticClass:"w100--s btn--primary scan-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.scan(e)}}},[t._v("Scan available data")])]),"fetching"==t.scanned?a("div",{staticClass:"txt--center"},[a("p",{staticClass:"scan-btn"},[t._v("Scanning..")])]):t._e(),1==t.scanned?[0===t.ranges.length?[a("p",[a("strong",[t._v('Unable to find any local data, do you have local data available for"'+t._s(t.config.watch.exchange)+":"+t._s(t.config.watch.currency)+"/"+t._s(t.config.watch.asset)+'"?')])])]:[a("label",{staticClass:"wrapper",attrs:{for:"exchange"}},[t._v("Run simulation over:")]),a("form",{staticClass:"radio grd"},t._l(t.ranges,function(e,n){return a("div",{staticClass:"grd-row m1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRangeIndex,expression:"selectedRangeIndex"}],staticClass:"grd-row-col-1-6",attrs:{type:"radio"},domProps:{value:n,checked:t._q(t.selectedRangeIndex,n)},on:{change:function(e){t.selectedRangeIndex=n}}}),a("label",{staticClass:"grd-row-col-5-6",attrs:{for:n}},[t._v(t._s(t.printRange(e)))])])}))],a("p",[a("em",[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.scan(e)}}},[t._v("rescan")])])])]:t._e(),a("p",{staticClass:"txt--center"},[a("em",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.tab="manual"}}},[t._v("Or manually set a daterange")])])])]:t._e(),"manual"===t.tab?[a("div",[a("label",{attrs:{for:"from"}},[t._v("From:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],domProps:{value:t.from},on:{input:function(e){e.target.composing||(t.from=e.target.value)}}})]),a("div",[a("label",{attrs:{for:"to"}},[t._v("To:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}})]),a("p",{staticClass:"txt--center"}),a("em",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.tab="scan"}}},[t._v("Or scan for a daterange")])])]:t._e()],2)},r=[],s=(a("LvDl"),a("wiDz")),i={props:["config"],data:function(){return{scanned:!1,ranges:[],selectedRangeIndex:-1,tab:"scan",from:"",to:""}},methods:{scan:function(){var t=this;this.scanned="fetching",this.selectedRangeIndex=-1,Object(s["c"])("scan",this.config,function(e,a){t.scanned=!0,t.ranges=a,t.selectedRangeIndex=0})},printRange:function(t){var e=function(t){return t.format("YYYY-MM-DD HH:mm")},a=moment.unix(t.from),n=moment.unix(t.to),r=moment.duration(n.diff(a)).humanize();return"".concat(e(a)," to ").concat(e(n)," (").concat(r,")")},fmtTs:function(t){return moment.unix(t).utc()},fmt:function(t){return t.utc().format()},emitRange:function(t){this.$emit("range",{from:this.fmtTs(t.from),to:this.fmtTs(t.to)})},emitManualEntry:function(){if(this.from.length<"4"||this.from.length<"4")return this.$emit("range",{});var t=moment.utc(this.from),e=moment.utc(this.to);t.isValid()&&e.isValid()?this.$emit("range",{from:this.fmt(t),to:this.fmt(e)}):this.$emit("range",{})},reset:function(){this.scanned=!1,this.$emit("range",{})}},watch:{from:function(){this.emitManualEntry()},to:function(){this.emitManualEntry()},config:function(){this.reset()},tab:function(){this.reset()},selectedRangeIndex:function(){var t=this.ranges[this.selectedRangeIndex];t&&this.emitRange(t)}}},o=i,c=(a("CyGp"),a("KHd+")),l=Object(c["a"])(o,n,r,!1,null,null,null);l.exports},ZL7j:function(t,e,a){"use strict";var n=a("EDI0"),r=a.n(n);r.a},ZpQ2:function(t,e,a){},aOB3:function(t,e,a){"use strict";var n=a("8KAT"),r=a.n(n);r.a},bqjz:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"contain"},[t._v("Backtest")]),a("div",{staticClass:"hr"}),a("config-builder",{on:{config:t.check}}),t.backtestable?a("div",[a("div",{staticClass:"txt--center"},["fetching"!==t.backtestState?a("a",{staticClass:"w100--s my1 btn--primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.run(e)}}},[t._v("Backtest")]):t._e(),"fetching"===t.backtestState?a("div",{staticClass:"scan-btn"},[a("p",[t._v("Running backtest..")]),a("spinner")],1):t._e()])]):t._e(),t.backtestResult&&"fetched"===t.backtestState?a("result",{attrs:{result:t.backtestResult,config:t.config}}):t._e()],1)},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("dataset-picker",{staticClass:"my2 contain",on:{dataset:t.updateDataset}}),a("div",{staticClass:"hr"}),a("strat-picker",{staticClass:"my2 contain",on:{stratConfig:t.updateStrat}}),a("div",{staticClass:"hr"}),a("paper-trader",{staticClass:"contain",on:{settings:t.updatePaperTrader}}),a("div",{staticClass:"hr"})],1)},i=[],o=(a("91GP"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Select a dataset")]),"idle"===t.datasetScanstate?a("div",{staticClass:"txt--center my2"},[a("a",{staticClass:"w100--s btn--primary scan-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.scan(e)}}},[t._v("Scan available data")])]):t._e(),"scanning"===t.datasetScanstate?a("div",{staticClass:"txt--center my2"},[a("spinner")],1):t._e(),"scanned"===t.datasetScanstate?a("div",{staticClass:"my2"},[0!=t.datasets.length?a("div",[a("table",{staticClass:"full"},[t._m(0),a("tbody",t._l(t.datasets,function(e,n){return a("tr",[a("td",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.setIndex,expression:"setIndex"}],attrs:{type:"radio",name:"dataset",id:e.id},domProps:{value:n,checked:t._q(t.setIndex,n)},on:{change:function(e){t.setIndex=n}}})]),a("td",[a("label",{attrs:{for:e.id}},[t._v(t._s(e.exchange))])]),a("td",[a("label",{attrs:{for:e.id}},[t._v(t._s(e.currency))])]),a("td",[a("label",{attrs:{for:e.id}},[t._v(t._s(e.asset))])]),a("td",[a("label",{attrs:{for:e.id}},[t._v(t._s(t.fmt(e.from)))])]),a("td",[a("label",{attrs:{for:e.id}},[t._v(t._s(t.fmt(e.to)))])]),a("td",[a("label",{attrs:{for:e.id}},[t._v(t._s(t.humanizeDuration(e.to.diff(e.from))))])])])}))]),t.rangeVisible?t._e():a("a",{staticClass:"btn--primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openRange(e)}}},[t._v("Adjust range")]),t.rangeVisible?[a("div",[a("label",{attrs:{for:"customFrom"}},[t._v("From:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customFrom,expression:"customFrom"}],domProps:{value:t.customFrom},on:{input:function(e){e.target.composing||(t.customFrom=e.target.value)}}})]),a("div",[a("label",{attrs:{for:"customTo"}},[t._v("To:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customTo,expression:"customTo"}],domProps:{value:t.customTo},on:{input:function(e){e.target.composing||(t.customTo=e.target.value)}}})])]:t._e()],2):a("em",[t._v("No Data found "),a("a",{attrs:{href:"#/data/importer"}},[t._v("Lets add some")])])]):t._e()])}),c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th"),a("th",[t._v("exchange")]),a("th",[t._v("currency")]),a("th",[t._v("asset")]),a("th",[t._v("from")]),a("th",[t._v("to")]),a("th",[t._v("duration")])])])}],l=a("LvDl"),u=a.n(l),d=a("Kw5r"),m=a("wiDz"),h=a("MB/c"),f=a("spvI"),v={components:{spinner:h["a"]},data:function(){return{setIndex:-1,customTo:!1,customFrom:!1,rangeVisible:!1,set:!1}},mixins:[f["a"]],methods:{humanizeDuration:function(t){return window.humanizeDuration(t,{largest:4})},fmt:function(t){return t.utc().format("YYYY-MM-DD HH:mm")},openRange:function(){if(-1===this.setIndex)return alert("Select a dataset to adjust range");this.updateCustomRange(),this.rangeVisible=!0},updateCustomRange:function(){this.customTo=this.fmt(this.set.to),this.customFrom=this.fmt(this.set.from)},emitSet:function(t){var e;t&&(this.customTo?(e=d["a"].util.extend({},t),e.to=moment.utc(this.customTo,"YYYY-MM-DD HH:mm").format(),e.from=moment.utc(this.customFrom,"YYYY-MM-DD HH:mm").format()):e=t,this.$emit("dataset",e))}},watch:{setIndex:function(){this.set=this.datasets[this.setIndex],this.updateCustomRange(),this.emitSet(this.set)},customTo:function(){this.emitSet(this.set)},customFrom:function(){this.emitSet(this.set)}}},p=v,g=(a("ngcj"),a("KHd+")),_=Object(g["a"])(p,o,c,!1,null,null,null),k=_.exports,y=a("6Wkr"),b=a("rloZ"),w={created:function(){var t=this;Object(m["b"])("configPart/performanceAnalyzer",function(e,a){t.performanceAnalyzer=toml.parse(a.part),t.performanceAnalyzer.enabled=!0})},data:function(){return{dataset:{},strat:{},paperTrader:{},performanceAnalyzer:{}}},components:{stratPicker:y["a"],datasetPicker:k,paperTrader:b["a"]},computed:{market:function(){return this.dataset.exchange?{exchange:this.dataset.exchange,currency:this.dataset.currency,asset:this.dataset.asset}:{}},range:function(){return this.dataset.exchange?{from:this.dataset.from,to:this.dataset.to}:{}},config:function(){var t={};return Object.assign(t,{watch:this.market},{paperTrader:this.paperTrader},this.strat,{backtest:{daterange:this.range},backtestResultExporter:{enabled:!0,writeToDisk:!1,data:{stratUpdates:!0,roundtrips:!0,stratCandles:!0,stratCandleProps:["open","high","low","close","volume"],trades:!0}}},{performanceAnalyzer:this.performanceAnalyzer}),t.valid=this.validConfig(t),t.backtestResultExporter.enabled=!0,t}},methods:{validConfig:function(t){if(!t.backtest)return!1;if(!t.backtest.daterange)return!1;if(u.a.isEmpty(t.backtest.daterange))return!1;if(!t.watch)return!1;if(!t.tradingAdvisor)return!1;var e=t.tradingAdvisor.method;if(u.a.isEmpty(t[e]))return!1;if(t.tradingAdvisor){if(u.a.isNaN(t.tradingAdvisor.candleSize))return!1;if(0==t.tradingAdvisor.candleSize)return!1}return!0},updateDataset:function(t){this.dataset=t,this.$emit("config",this.config)},updateStrat:function(t){this.strat=t,this.$emit("config",this.config)},updatePaperTrader:function(t){this.paperTrader=t,this.paperTrader.enabled=!0,this.$emit("config",this.config)}}},x=w,C=(a("Q6eY"),Object(g["a"])(x,s,i,!1,null,null,null)),j=C.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"hr contain"}),t._m(0),a("result-summary",{attrs:{report:t.result.performanceReport}}),a("div",{staticClass:"hr contain"}),a("chart",{attrs:{data:t.result,height:"500",config:t.config}}),a("div",{staticClass:"hr contain"}),a("roundtripTable",{attrs:{roundtrips:t.result.roundtrips}})],1)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("h3",[t._v("Backtest result")])])}],E=a("oWTr"),P=a("UeuA"),O=a("vf3E"),A={props:["result","config"],data:function(){return{}},methods:{},components:{roundtripTable:O["a"],resultSummary:E["a"],chart:P["a"]},computed:{candles:function(){return{candles:this.result.stratCandles,trades:this.result.trades}}}},D=A,z=(a("wVP4"),Object(g["a"])(D,S,T,!1,null,null,null)),$=z.exports,M={data:function(){return{backtestable:!1,backtestState:"idle",backtestResult:!1,config:!1}},methods:{check:function(t){if(this.config=t,!t.valid)return this.backtestable=!1;this.backtestable=!0},run:function(){var t=this;this.backtestState="fetching",Object(m["c"])("backtest",this.config,function(e,a){t.backtestState="fetched",console.log(a),t.backtestResult=a})}},components:{configBuilder:j,result:$,spinner:h["a"]}},N=M,Y=Object(g["a"])(N,n,r,!1,null,null,null);e["a"]=Y.exports},cEP6:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.backtest?a("div",[a("div",{staticClass:"hr contain"}),a("div",{staticClass:"contain"},[a("performanceSummary",{attrs:{config:t.backtest.config,roundtrips:t.backtest.backtest.roundtrips,trades:t.backtest.backtest.trades,report:t.backtest.performance}})],1),a("div",{staticClass:"hr contain"}),a("div",{staticClass:"contain"},[a("chart",{attrs:{roundtrips:t.backtest.backtest.roundtrips,config:t.backtest.config}})],1),a("div",{staticClass:"contain"},[a("strong",[t._v("Parameters for "+t._s(t.backtest.config.tradingAdvisor.method))])]),a("div",{staticClass:"contain"},[t._v(t._s(t.parameters))])]):t._e()},r=[],s=(a("a1Th"),a("VRzm"),a("LvDl")),i=a.n(s),o=a("wiDz"),c=a("oWTr"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"grd"},[t._v("Balance History")]),a("svg",{attrs:{id:"chart",width:"100%",height:"500px"}})])},u=[],d=(a("91GP"),a("wgY5")),m=a.n(d),h=function(t,e){console.log(t);var a=t.map(function(t){return{date:m.a.unix(t.exitAt).toDate(),value:+t.exitBalance,pnl:+t.pnl}}),n=m()(e.backtest.daterange.from).toDate(),r=m()(e.backtest.daterange.to).toDate(),s=+e.paperTrader.simulationBalance.currency;a.unshift({date:n,value:s,pnl:0});var i=Object.assign(t[t.length-1]);i.date=r,i.value=+i.exitBalance,a.push(i);var o={top:20,right:20,bottom:30,left:50},c=800-o.left-o.right,l=500-o.top-o.bottom,u=d3.scaleTime().domain([n,r]).range([0,c]),d=d3.scaleLinear().domain([8e3,d3.max(a,function(t){return+t.value})]).range([l,0]),h=d3.scaleLinear().domain([80,d3.max(a,function(t){return 100*+t.value/s})]).range([l,0]),f=d3.select("body").append("div").attr("class","tooltip").style("opacity",0),v=d3.line().defined(function(t){return!isNaN(t.value)}).x(function(t){return u(t.date)}).y(function(t){return d(t.value)}),p=d3.select("#chart").attr("width",c+o.left+o.right).attr("height",l+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")");function g(t){d3.select(this).style("opacity","1").style("stroke-width",2)}function _(t){d3.select(this).style("opacity","0.8").style("stroke-width",1.5)}p.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(d3.axisBottom(u).ticks(d3.timeMonth).tickFormat(d3.timeFormat("%b"))),p.append("g").attr("class","y axis").call(d3.axisRight(d)).attr("transform","translate("+c+", 0 )"),p.append("g").attr("class","axis").call(d3.axisLeft(h).tickFormat(function(t){return t+"%"})).call(function(t){return t.select(".domain").remove()}),p.append("path").datum(a).style("fill","none").style("stroke","steelblue").style("stroke-width",1.5).style("stroke-linejoin","round").style("stroke-linecap","round").style("opacity","0.8").on("mouseover",g).on("mouseout",_).attr("d",v);var k=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"});p.selectAll(".dot").data(a).enter().append("circle").attr("fill","#ffab00").attr("stroke","#fff").attr("cx",function(t){return u(t.date)}).attr("cy",function(t){return d(t.value)}).attr("r",5).on("mouseover",function(t){d3.select(this).attr("r",10),f.transition().duration(100).style("opacity",.9),f.html("<span>"+k.format(t.pnl)+"</span>").style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(t){d3.select(this).attr("r",5),f.transition().duration(100).style("opacity",0)})},f={props:["roundtrips","config"],data:function(){return{}},mounted:function(){h(this.roundtrips,this.config)},methods:{render:function(){this.remove(),h()},remove:function(){d3.select("#chart").html("")}}},v=f,p=(a("hhKp"),a("KHd+")),g=Object(p["a"])(v,l,u,!1,null,null,null),_=g.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.config?a("div",{staticClass:"grd contain"},[a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6"},[a("div",{staticClass:"summary"},[a("div",[t._v("Exchange:")]),a("div",[t._v(t._s(t.config.watch.exchange))]),a("div",[t._v("Coin:")]),a("div",[t._v(t._s(t.config.watch.asset)+" - "+t._s(t.config.watch.currency))]),a("div",[t._v("Time: ")]),a("div",[t._v(t._s(t.humanizeLocal(t.config.backtest.daterange.from))+" - "+t._s(t.humanizeEndtime(t.config.backtest.daterange.to)))])])]),a("div",{staticClass:"grd-row-col-3-6"},[a("div",{staticClass:"summary"},[a("div",[t._v("Method")]),a("div",[t._v(t._s(t.config.tradingAdvisor.method))]),a("div",[t._v("Candle size:")]),a("div",[t._v(t._s(t.config.tradingAdvisor.candleSize))]),a("div",[t._v("History size:")]),a("div",[t._v(t._s(t.config.tradingAdvisor.historySize))])])])]),a("p"),a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6"},[a("div",{staticClass:"summary"},[t._m(0),a("div"),a("div",[t._v("Start price:")]),a("div",[t._v(t._s(t.round(t.report.startPrice)))]),a("div",[t._v("End price:")]),a("div",[t._v(t._s(t.round(t.report.endPrice)))]),a("div",[t._v("Profit: ")]),a("div",[t._v(t._s(t.round(t.report.market/100*t.report.startPrice))+"  ("+t._s(t.round(t.report.market))+"%)")])])]),a("div",{staticClass:"grd-row-col-3-6"},[a("div",{staticClass:"summary"},[t._m(1),a("div"),a("div",[t._v("Start balance:")]),a("div",[t._v(t._s(t.round(t.report.startBalance)))]),a("div",[t._v("End balance:")]),a("div",[t._v(t._s(t.round(t.report.balance))+" ")]),a("div",[t._v("Profit")]),a("div",[t._v(t._s(t.round(t.report.balance-t.report.startBalance))+" ("+t._s(t.round(t.report.relativeProfit))+" %)")])])])]),a("p"),a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6"},[a("div",{staticClass:"summary"},[t._m(2),a("div"),a("div",[t._v("total amount:")]),a("div",[t._v(t._s(t.roundtrips.length))]),a("div",[t._v("trades per month:")]),a("div",[t._v(t._s(t.round(t.roundtrips.length/12)))]),a("div",[t._v("win trades:")]),a("div",[t._v(t._s(t.roundtrips.filter(function(t){return+t.pnl>0}).length))]),a("div",[t._v("loose trades:")]),a("div",[t._v(t._s(t.roundtrips.filter(function(t){return+t.pnl<0}).length))]),a("div",[t._v("Sum fees: ")]),a("div",[t._v(t._s(t.round(.0025*t.roundtrips.length*2*t.report.startBalance))+" ")])])]),a("div",{staticClass:"grd-row-col-3-6"},[a("div",{staticClass:"summary"},[t._m(3),a("div"),a("div",[t._v("sharpe ratio:")]),a("div",[t._v("3.21")]),a("div",[t._v("best win:")]),a("div",[t._v(t._s(t.round(t.maxProfit(t.roundtrips)))+" %")]),a("div",[t._v("worst loose:")]),a("div",[t._v(t._s(t.round(t.report.downside))+" %")]),a("div",[t._v("avarage profit:")]),a("div",[t._v(t._s(t.round(t.avarageProfit(t.report.relativeProfit,t.roundtrips)))+" %")]),a("div",[t._v("avarage holding:")]),a("div",[t._v(t._s(t.round(t.avarageDuration(t.report.exposure,t.config.backtest.daterange.from,t.config.backtest.daterange.to,t.roundtrips)))+" days")])])])])]):t._e()])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("strong",[t._v("Market")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("strong",[t._v("Profit report")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("strong",[t._v("Trades")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("strong",[t._v("Key figures")])])}],b=a("iv4g"),w={name:"performanceSummary",props:["report","config","roundtrips","trades"],data:function(){return{}},components:{},methods:{round:function(t){return(+t).toFixed(2)},maxProfit:function(t){return 100*Math.max.apply(Math,Object(b["a"])(t.map(function(t){return+t.pnl/+t.entryBalance})))},avarageProfit:function(t,e){return t/e.length},avarageDuration:function(t,e,a,n){return t*m.a.duration(m.a.utc(a).diff(m.a.utc(e))).asDays()/n.length},humanizeLocal:function(t){return m.a.utc(t).format("DD.MM.YYYY")},humanizeEndtime:function(t){return m.a.utc(t).subtract(1,"days").format("DD.MM.YYYY")}},mounted:function(){console.log(this.report)}},x=w,C=(a("IowZ"),Object(p["a"])(x,k,y,!1,null,null,null)),j=C.exports,S={name:"singleBacktest",data:function(){return{backtest:null}},components:{resultSummary:c["a"],chart:_,performanceSummary:j},computed:{id:function(){return this.$route.params.id},config:function(){return i.a.get(this,"backtest.config")},parameters:function(){var t=this.backtest.config[this.backtest.config.tradingAdvisor.method];return t}},mounted:function(){var t=this;Object(o["b"])("backtests/".concat(this.id),function(e,a){t.backtest=a})},methods:{moment:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return moment.utc(t)}),fmt:function(t){return moment.unix(t).format("YYYY-MM-DD HH:mm")},round:function(t){return(+t).toFixed(3)}}},T=S,E=Object(p["a"])(T,n,r,!1,null,null,null);e["a"]=E.exports},dHeD:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("div",{staticClass:"text",domProps:{innerHTML:t._s(t.intro)}}),a("div",{staticClass:"hr"}),a("h2",[t._v("Available datasets")]),"idle"===t.datasetScanstate?a("div",{staticClass:"txt--center my2"},[a("a",{staticClass:"w100--s btn--primary scan-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.scan(e)}}},[t._v("Scan available data")])]):t._e(),"scanning"===t.datasetScanstate?a("div",{staticClass:"txt--center my2"},[a("spinner")],1):t._e(),"scanned"===t.datasetScanstate?a("div",{staticClass:"my2"},[t.unscannableMakets.length?a("div",{staticClass:"bg--orange p1 warning my1"},[t.viewUnscannable?t._e():a("p",{staticClass:"clickable",on:{click:function(e){return e.preventDefault(),t.toggleUnscannable(e)}}},[t._v("Some markets were unscannable, click here for details.")]),t.viewUnscannable?[a("p",[t._v("Unable to find datasets in the following markets:")]),t._l(t.unscannableMakets,function(e){return a("div",{staticClass:"mx2"},[t._v("- "+t._s(e.exchange)+":"+t._s(e.currency)+":"+t._s(e.asset))])})]:t._e()],2):t._e(),t.datasets.length?[a("table",{staticClass:"full data"},[t._m(0),a("tbody",t._l(t.datasets,function(e){return a("tr",[a("td",[t._v(t._s(e.exchange))]),a("td",[t._v(t._s(e.currency))]),a("td",[t._v(t._s(e.asset))]),a("td",[t._v(t._s(t.fmt(e.from)))]),a("td",[t._v(t._s(t.fmt(e.to)))]),a("td",[t._v(t._s(t.humanizeDuration(e.to.diff(e.from))))])])}))])]:t._e(),t.datasets.length?t._e():[a("p",[t._v("It looks like you don't have any local data yet.")])]],2):t._e(),a("div",{staticClass:"my2"},[a("h2",[t._v("Import more data")]),a("p",{staticClass:"text"},[t._v("You can easily import more market data directly from exchanges using the importer.")]),a("router-link",{staticClass:"btn--primary",attrs:{to:"/data/importer"}},[t._v("Go to the importer!")])],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("exchange")]),a("th",[t._v("currency")]),a("th",[t._v("asset")]),a("th",[t._v("from")]),a("th",[t._v("to")]),a("th",[t._v("duration")])])])}],s=a("MB/c"),i=a("5shn"),o=a("spvI"),c=Object(i["a"])("\n\n## Local data\n\nGekko needs local market data in order to backtest strategies. The local\ndata can also be used in a warmup period when running a strategy against a\nlive market.\n\n"),l={mixins:[o["a"]],components:{spinner:s["a"]},data:function(){return{intro:c,viewUnscannable:!1}},methods:{toggleUnscannable:function(){this.viewUnscannable=!0},humanizeDuration:function(t){return window.humanizeDuration(t)},fmt:function(t){return t.format("YYYY-MM-DD HH:mm")}}},u=l,d=(a("2rY9"),a("KHd+")),m=Object(d["a"])(u,n,r,!1,null,null,null);e["a"]=m.exports},dW8q:function(t,e,a){"use strict";var n=a("w3yp"),r=a.n(n);r.a},daul:function(t,e,a){"use strict";var n=a("Kd0R"),r=a.n(n);r.a},g298:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain my2"},[t.data&&!t.data.done?a("div",[a("h2",[t._v("Importing data..")]),a("div",{staticClass:"grd"},[a("div",{staticClass:"grd-row"},[t._m(0),a("div",{staticClass:"grd-row-col-4-6"},[t._v(t._s(t.data.watch.exchange))])]),a("div",{staticClass:"grd-row"},[t._m(1),a("div",{staticClass:"grd-row-col-4-6"},[t._v(t._s(t.data.watch.currency)+"/"+t._s(t.data.watch.asset))])])]),a("div",{staticClass:"grd"},[a("div",{staticClass:"grd-row"},[t._m(2),a("div",{staticClass:"grd-row-col-4-6"},[t._v(t._s(t.fmt(t.from)))])]),a("div",{staticClass:"grd-row"},[t._m(3),a("div",{staticClass:"grd-row-col-4-6"},[t._v(t._s(t.fmt(t.to)))])]),t.initialized?a("div",{staticClass:"grd-row"},[t._m(4),a("div",{staticClass:"grd-row-col-4-6"},[t._v(t._s(t.fmt(t.latest)))])]):t._e(),t.initialized?a("div",{staticClass:"grd-row"},[t._m(5),a("div",{staticClass:"grd-row-col-4-6"},[t._v(t._s(t.fromEnd))])]):t._e()]),t.initialized?t._e():a("spinner"),t.initialized?a("div",{staticClass:"contain"},[a("progressBar",{attrs:{progress:t.progress}})],1):t._e(),a("p",[a("em",[t._v("(you don't have to wait until the import is done,you can already start "),a("router-link",{attrs:{to:"/backtest"}},[t._v("backtesting")]),t._v(").")],1)])],1):t._e(),t.data&&t.data.done?a("div",{staticClass:"txt--center"},[a("h2",[t._v("Import done")]),a("p",[t._v(" Go and "),a("router-link",{attrs:{to:"/backtest"}},[t._v("backtest")]),t._v(" with your new data!")],1)]):t._e(),t.data?t._e():a("div",{staticClass:"txt--center"},[a("h2",[t._v("ERROR: Unknown import")]),a("p",[a("I",[t._v("don't know this import..")])],1)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd-row-col-2-6"},[a("strong",[t._v("Market:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd-row-col-2-6"},[a("strong",[t._v("Currency/Asset:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd-row-col-2-6"},[a("strong",[t._v("From:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd-row-col-2-6"},[a("strong",[t._v("To:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd-row-col-2-6"},[a("strong",[t._v("Imported data until:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd-row-col-2-6"},[a("strong",[t._v("Remaining:")])])}],s=(a("dRSK"),a("LvDl")),i=a.n(s),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.progress?a("div",{staticClass:"progressbarWrapper"},[a("p",[a("strong",[t._v(t._s(t.round(t.progress))+"%")])]),a("div",{staticClass:"progressbar"},[a("div",{style:{width:t.progress+"%"}})])]):t._e()},c=[],l={props:["progress"],methods:{round:function(t){return(+t).toFixed(2)}}},u=l,d=(a("/vJE"),a("KHd+")),m=Object(d["a"])(u,o,c,!1,null,null,null),h=m.exports,f=a("MB/c"),v={components:{progressBar:h,spinner:f["a"]},computed:{data:function(){return i.a.find(this.$store.state.imports,{id:this.$route.params.id})},initialized:function(){if(this.data&&this.latest.isValid())return!0},latest:function(){if(this.data)return this.mom(this.data.latest)},fromEndMs:function(){if(this.data)return this.to.diff(this.latest)},fromEnd:function(){return this.latest?humanizeDuration(this.fromEndMs):"LOADING"},from:function(){if(this.data)return this.mom(this.data.from)},to:function(){if(this.data)return this.mom(this.data.to)},timespan:function(){if(this.data)return this.to.diff(this.from)},progress:function(){if(this.data){var t=this.timespan-this.fromEndMs;return 100*t/this.timespan}}},methods:{fmt:function(t){return t.format("YYYY-MM-DD HH:mm:ss")},mom:function(t){return moment.utc(t)}}},p=v,g=(a("qDq4"),Object(d["a"])(p,n,r,!1,null,null,null));e["a"]=g.exports},gYof:function(t,e,a){"use strict";a("LvDl");var n=a("Kw5r"),r=a("r0f2"),s=(a("L2JU"),a("wiDz")),i=a("Q2AE"),o=function(){Object(s["b"])("imports",function(t,e){i["a"].commit("syncImports",e)})},c=function(){x.$on("import_update",function(t){i["a"].commit("updateImport",t)})},l=function(){o(),c()},u=function(){Object(s["b"])("gekkos",function(t,e){var a=e;i["a"].commit("syncGekkos",a)})},d=function(){x.$on("gekko_new",function(t){return i["a"].commit("addGekko",t.state)}),x.$on("gekko_event",function(t){return i["a"].commit("updateGekko",t)}),x.$on("gekko_archived",function(t){return i["a"].commit("archiveGekko",t.id)}),x.$on("gekko_error",function(t){return i["a"].commit("errorGekko",t)}),x.$on("gekko_deleted",function(t){return i["a"].commit("deleteGekko",t.id)})},m=function(){u(),d()},h=function(){},f=function(){x.$on("WS_STATUS_CHANGE",function(t){return i["a"].commit("setGlobalWarning",{key:"connected",value:t.connected})})},v=function(){h(),f()},p=a("k5N+"),g=(a("rGqo"),function(t){if(!t)return{};var e=t,a={};return e.forEach(function(t){a[t.slug]=a[t.slug]||{markets:{}},t.markets.forEach(function(e){var n=Object(p["a"])(e["pair"],2),r=n[0],s=n[1];a[t.slug].markets[r]=a[t.slug].markets[r]||[],a[t.slug].markets[r].push(s)}),"exchangeMaxHistoryAge"in t&&(a[t.slug].exchangeMaxHistoryAge=t.exchangeMaxHistoryAge),a[t.slug].importable=!!t.providesFullHistory,a[t.slug].tradable=!!t.tradable,a[t.slug].requires=t.requires}),a}),_=function(){Object(s["b"])("apiKeys",function(t,e){i["a"].commit("syncApiKeys",e)}),Object(s["b"])("exchanges",function(t,e){i["a"].commit("syncExchanges",g(e))})},k=function(){x.$on("apiKeys",function(t){i["a"].commit("syncApiKeys",t.exchanges)})},y=function(){_(),k()},b=function(){l(),m(),v(),y()};a.d(e,"a",function(){return x}),a.d(e,"b",function(){return j});var w=null,x=new n["a"];x.$on("gekko_update",function(t){return console.log(t)}),x.$on("import_update",function(t){return console.log(t)}),x.$on("import_error",function(t){alert("IMPORT ERROR: "+t.error)});var C={connected:!1},j=function(){w=new ReconnectingWebSocket(r["b"],null,{maxReconnectInterval:4e3}),setTimeout(function(){C.connected||(b(),x.$emit("WS_STATUS_CHANGE",C))},500),w.onopen=function(){C.connected||(C.connected=!0,x.$emit("WS_STATUS_CHANGE",C),b())},w.onclose=function(){C.connected&&(C.connected=!1,x.$emit("WS_STATUS_CHANGE",C))},w.onerror=function(){C.connected&&(C.connected=!1,x.$emit("WS_STATUS_CHANGE",C))},w.onmessage=function(t){var e=JSON.parse(t.data);x.$emit(e.type,e)}}},h8ks:function(t,e,a){},hGnM:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain py2"},[a("h3",[t._v("Market watchers")]),t.watchers.length?t._e():a("div",{staticClass:"text"},[a("p",[t._v("You don't have any market watchers.")])]),t.watchers.length?a("table",{staticClass:"full clickable"},[t._m(0),a("tbody",t._l(t.watchers,function(e){return a("tr",{staticClass:"clickable",on:{click:function(a){t.$router.push({path:"/live-gekkos/"+e.id})}}},[a("td",[t._v(t._s(e.config.watch.exchange))]),a("td",[t._v(t._s(e.config.watch.currency))]),a("td",[t._v(t._s(e.config.watch.asset))]),a("td",[t._v(t._s(t.status(e)))]),a("td",[e.events.initial.candle?[t._v(t._s(t.fmt(e.events.initial.candle.start)))]:t._e()],2),a("td",[e.events.latest.candle?[t._v(t._s(t.fmt(e.events.latest.candle.start)))]:t._e()],2),a("td",[e.events.initial.candle&&e.events.latest.candle?[t._v(t._s(t.timespan(e.events.latest.candle.start,e.events.initial.candle.start)))]:t._e()],2)])}))]):t._e(),a("h3",[t._v("Strat runners")]),t.stratrunners.length?t._e():a("div",{staticClass:"text"},[a("p",[t._v("You don't have any stratrunners.")])]),t.stratrunners.length?a("table",{staticClass:"full"},[t._m(1),a("tbody",t._l(t.stratrunners,function(e){return a("tr",{staticClass:"clickable",on:{click:function(a){t.$router.push({path:"/live-gekkos/"+e.id})}}},[a("td",[t._v(t._s(e.config.watch.exchange))]),a("td",[t._v(t._s(e.config.watch.currency))]),a("td",[t._v(t._s(e.config.watch.asset))]),a("td",[t._v(t._s(t.status(e)))]),a("td",[e.events.initial.candle&&e.events.latest.candle?[t._v(t._s(t.timespan(e.events.latest.candle.start,e.events.initial.candle.start)))]:t._e()],2),a("td",[t._v(t._s(e.config.tradingAdvisor.method))]),a("td",[t.report(e)?t._e():[t._v("0")],t.report(e)?[t._v(t._s(t.round(t.report(e).profit))+" "+t._s(t.report(e).currency))]:t._e()],2),a("td",[t._v(t._s(e.logType))]),a("td",[e.events.tradeCompleted?t._e():[t._v("0")],e.events.tradeCompleted?[t._v(t._s(e.events.tradeCompleted.length))]:t._e()],2)])}))]):t._e(),a("div",{staticClass:"hr"}),a("h2",[t._v("Start a new live Gekko")]),a("router-link",{staticClass:"btn--primary",attrs:{to:"/live-gekkos/new"}},[t._v("Start a new live Gekko!")])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("exchange")]),a("th",[t._v("currency")]),a("th",[t._v("asset")]),a("th",[t._v("status")]),a("th",[t._v("started at")]),a("th",[t._v("last update")]),a("th",[t._v("duration")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("exchange")]),a("th",[t._v("currency")]),a("th",[t._v("asset")]),a("th",[t._v("status")]),a("th",[t._v("duration")]),a("th",[t._v("strategy")]),a("th",[t._v("PnL")]),a("th",[t._v("type")]),a("th",[t._v("trades")])])])}],s=(a("a1Th"),a("rGqo"),a("yt8O"),{created:function(){var t=this;this.timer=setInterval(function(){t.now=moment()},1e3)},destroyed:function(){clearTimeout(this.timer)},data:function(){return{timer:!1,now:moment()}},computed:{stratrunners:function(){return _.values(this.$store.state.gekkos).concat(_.values(this.$store.state.archivedGekkos)).filter(function(t){return"papertrader"===t.logType||"tradebot"===t.logType})},watchers:function(){return _.values(this.$store.state.gekkos).concat(_.values(this.$store.state.archivedGekkos)).filter(function(t){return"watcher"===t.logType})}},methods:{humanizeDuration:function(t){return window.humanizeDuration(t)},moment:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return moment.utc(t)}),fmt:function(t){return moment.utc(t).format("YYYY-MM-DD HH:mm")},round:function(t){return(+t).toFixed(3)},timespan:function(t,e){return this.humanizeDuration(this.moment(t).diff(this.moment(e)))},status:function(t){return t.errored?"errored":t.stopped?"stopped":t.active?"running":void console.log("unknown state:",t)},report:function(t){return _.get(t,"events.latest.performanceReport")}}}),i=s,o=(a("daul"),a("KHd+")),c=Object(o["a"])(i,n,r,!1,null,null,null);e["a"]=c.exports},hhKp:function(t,e,a){"use strict";var n=a("DQ/Z"),r=a.n(n);r.a},jTvs:function(t,e,a){},jVW9:function(t,e,a){},jf14:function(t,e,a){},jloR:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain my2"},[a("div",{staticClass:"text",domProps:{innerHTML:t._s(t.intro)}}),a("div",{staticClass:"hr"}),a("h3",[t._v("Currently running imports")]),0===t.imports.length?a("p",[t._v("You currently don't have any imports running.")]):t._e(),t.imports.length?a("ul",t._l(t.imports,function(e){return a("li",[a("router-link",{attrs:{to:"/data/importer/import/"+e.id}},[t._v(t._s(e.watch.exchange)+":"+t._s(e.watch.currency)+"/"+t._s(e.watch.asset))])],1)})):t._e(),a("div",{staticClass:"hr"}),a("h3",[t._v("Start a new import")]),a("import-config-builder",{on:{config:t.updateConfig}}),a("div",{staticClass:"hr"}),a("div",{staticClass:"txt--center"},[a("a",{staticClass:"w100--s my1 btn--primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.run(e)}}},[t._v("Import")])])],1)},r=[],s=a("wiDz"),i=a("MB/c"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd contain"},[a("div",{staticClass:"grd-row"},[a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("h3",[t._v("Market")]),a("market-picker",{attrs:{"only-importable":"true"},on:{market:t.updateMarketConfig}})],1),a("div",{staticClass:"grd-row-col-3-6 mx1"},[a("range-creator",{on:{range:t.updateRange}})],1)])])},c=[],l=(a("91GP"),a("6BxS")),u=a("FhOJ"),d=(a("LvDl"),{data:function(){return{market:{},range:{}}},components:{marketPicker:l["a"],rangeCreator:u["a"]},computed:{config:function(){var t={};return Object.assign(t,this.market,{importer:{daterange:this.range}},{candleWriter:{enabled:!0}}),t}},methods:{updateMarketConfig:function(t){this.market=t,this.emitConfig()},updateRange:function(t){this.range=t,this.emitConfig()},emitConfig:function(){this.$emit("config",this.config)}}}),m=d,h=(a("H+ir"),a("KHd+")),f=Object(h["a"])(m,o,c,!1,null,null,null),v=f.exports,p=a("5shn"),g=Object(p["a"])("\n\n## Import data\n\nThe importer can download historical market data directly from the exchange.\n\n"),_={components:{importConfigBuilder:v,spinner:i["a"]},data:function(){return{intro:g,config:{}}},computed:{imports:function(){return this.$store.state.imports}},methods:{daysApart:function(t){var e=moment(t.to),a=moment(t.from);return e.diff(a,"days")},updateConfig:function(t){this.config=t},run:function(){var t=this,e=this.daysApart(this.config.importer.daterange);if(e<1)return alert("You can only import at least one day of data..");var a=this.$store.state.exchanges[this.config.watch.exchange];if("exchangeMaxHistoryAge"in a&&moment(this.config.importer.daterange.from)<moment().subtract(a.exchangeMaxHistoryAge,"days"))return alert("Your date from is too old for "+this.config.watch.exchange+". It supports only the last "+a.exchangeMaxHistoryAge+" days..");Object(s["c"])("import",this.config,function(e,a){if(e)return alert(e);t.$store.commit("addImport",a),t.$router.push({path:"/data/importer/import/".concat(a.id)})})}}},k=_,y=(a("yomC"),Object(h["a"])(k,n,r,!1,null,null,null));e["a"]=y.exports},jnJk:function(t,e,a){},kiQV:function(t){t.exports={name:"gekko-vue-ui",version:"0.2.3",private:!0,scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{firebase:"^4.6.1",marked:"^0.4.0",superagent:"^3.8.3","superagent-no-cache":"github:uditalias/superagent-no-cache",vue:"^2.5.16","vue-router":"^3.0.1",vuex:"^3.0.1"},devDependencies:{"@vue/cli-plugin-babel":"^3.0.0-beta.15","@vue/cli-service":"^3.0.0-beta.15","babel-plugin-transform-commonjs-es2015-modules":"^4.0.1","copy-webpack-plugin":"^4.5.2",pug:"^2.0.3","pug-plain-loader":"^1.0.0","vue-template-compiler":"^2.5.16"},postcss:{plugins:{autoprefixer:{}}},browserslist:["> 1%","last 2 versions","not ie <= 8"]}},ldlP:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"contain grd-row"},[a("div",{staticClass:"grd-row-col-3-6",domProps:{innerHTML:t._s(t.left)}}),t._m(0)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd-row-col-3-6 txt--center"},[a("img",{attrs:{src:"static/gekko.jpg"}}),a("p",[a("em",[t._v("The most valuable commodity I know of is information.")])])])}],s=a("5shn"),i=Object(s["a"])("\n\n## Gekko\n\nGekko is a Bitcoin trading bot and backtesting platform that\nconnects to popular Bitcoin exchanges. It is written in javascript\nand runs on nodejs.\n\n[Find out more](https://gekko.wizb.it/).\n\n*Gekko is 100% free (open source), if you paid for this you have been scammed.*\n\n"),o={data:function(){return{left:i}}},c=o,l=a("KHd+"),u=Object(l["a"])(c,n,r,!1,null,null,null);e["a"]=u.exports},mf2E:function(t,e,a){"use strict";var n=function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"my2"},[e.data?e._e():n("div",{staticClass:"contain"},[n("h1",[e._v("Unknown Gekko instance")]),n("p",[e._v("Gekko doesn't know what gekko this is...")])]),e.data?n("div",[n("h2",{staticClass:"contain"},[e._v("Gekko "+e._s(e.type))]),e.isArchived?n("div",{staticClass:"contain brdr--mid-gray p1 bg--orange"},[e._v("This is an archived Gekko, it is currently not running anymore.")]):e._e(),e.data.errorMessage?n("div",{staticClass:"contain brdr--mid-gray p1 bg--orange"},[e._v("This is Gekko crashed with the following error: "+e._s(e.data.errorMessage))]):e._e(),n("div",{staticClass:"grd contain"},[n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[n("h3",[e._v("Market")]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Exchange")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.config.watch.exchange))])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Currency")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.config.watch.currency))])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Asset")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.config.watch.asset))])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Type")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.type))])])]),n("div",{staticClass:"grd-row-col-3-6"},[n("h3",[e._v("Runtime")]),e.isLoading?n("spinner"):e._e(),e.isLoading?e._e():[e.initialEvents.candle?n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-2-6"},[e._v("Watching since")]),n("div",{staticClass:"grd-row-col-4-6"},[e._v(e._s(e.fmt(e.initialEvents.candle.start))+" UTC")])]):e._e(),e.latestEvents.candle?n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-2-6"},[e._v("Received data until")]),n("div",{staticClass:"grd-row-col-4-6"},[e._v(e._s(e.fmt(e.latestEvents.candle.start))+" UTC")])]):e._e(),e.latestEvents.candle?n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-2-6"},[e._v("Data spanning")]),n("div",{staticClass:"grd-row-col-4-6"},[e._v(e._s(e.humanizeDuration(e.moment(e.latestEvents.candle.start).diff(e.moment(e.initialEvents.candle.start)))))])]):e._e(),e.isStratrunner?[n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-2-6"},[e._v("Amount of trades")]),n("div",{staticClass:"grd-row-col-4-6"},[e._v(e._s(e.trades.length))])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-2-6"},[e._v("Candle size")]),n("div",{staticClass:"grd-row-col-4-6"},[e._v(e._s(e.config.tradingAdvisor.candleSize))])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-2-6"},[e._v("History size")]),n("div",{staticClass:"grd-row-col-4-6"},[e._v(e._s(e.config.tradingAdvisor.historySize))])])]:e._e()]],2)]),e.warmupRemaining?n("div",{staticClass:"contain brdr--mid-gray p1 bg--orange"},[e._v("This stratrunner is still warming up for the next"),n("i",[e._v(e._s(e.warmupRemaining.replace(","," and ")))]),e._v(", it will not trade until it is warmed up.")]):e._e(),e.isStratrunner?n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[n("h3",[e._v("Strategy")]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Name")]),n("div",{staticClass:"grd-row-col-3-6"},[n("strong",[e._v(e._s(e.stratName))])])]),e._v("Parameters"),n("pre",[e._v(e._s(e.stratParams))])]),n("div",{staticClass:"grd-row-col-3-6"},[n("h3",[e._v("Profit report")]),e.report?e._e():[n("p",[e.isArchived?n("em",[e._v("This Gekko never executed a trade..")]):e._e(),e.isArchived?e._e():n("em",[e._v("Waiting for at least one trade..")])])],e.report?[n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Start balance")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.round(e.report.startBalance)))])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Current balance")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.round(e.report.balance)))])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Market")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.round(e.report.market/100*e.report.startPrice))+" "+e._s(e.config.watch.currency)+" ("+e._s(e.round(e.report.market))+" %)")])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Profit")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.round(e.report.profit))+" "+e._s(e.config.watch.currency)+" ("+e._s(e.round(e.report.relativeProfit))+" %)")])]),n("div",{staticClass:"grd-row"},[n("div",{staticClass:"grd-row-col-3-6"},[e._v("Alpha")]),n("div",{staticClass:"grd-row-col-3-6"},[e._v(e._s(e.round(e.report.alpha))+" "+e._s(e.config.watch.currency))])])]:e._e()],2)]):e._e(),!e.isStratrunner||e.watcher||e.isArchived?e._e():n("p",[e._v("WARNING: stale gekko, not attached to a watcher, please report"),n("a",{attrs:{href:"https://github.com/askmike/gekko/issues"}},[e._v("here")]),e._v(".")]),e.isArchived?e._e():n("p",[n("a",{staticClass:"w100--s my1 btn--red",on:{click:e.stopGekko}},[e._v("Stop Gekko")])]),e.isArchived?n("p",[n("a",{staticClass:"w100--s my1 btn--red",on:{click:e.deleteGekko}},[e._v("Delete Gekko")])]):e._e(),e.isArchived?n("p",[n("a",{staticClass:"w100--s my1 btn--red",on:{click:e.restartGekko}},[e._v("restart Gekko")])]):e._e(),e.isStratrunner&&e.watcher&&!e.isArchived?n("p",[n("em",[e._v("This gekko gets market data from"),n("router-link",{attrs:{to:"/live-gekkos/"+e.watcher.id}},[e._v("this market watcher")])],1),e._v(".")]):e._e()]),e.isLoading?e._e():[n("h3",{staticClass:"contain"},[e._v("Market graph")]),"fetching"===e.candleFetch?n("spinner"):e._e(),"fetched"===e.candleFetch?[n("chart",{attrs:{data:e.chartData,height:300,config:(t={tradingAdvisor:e.config.tradingAdvisor},t[e.stratName]=e.data.config[e.stratName],t)}})]:e._e(),e.isStratrunner?n("roundtrips",{attrs:{roundtrips:e.roundtrips}}):e._e()]],2):e._e()])},r=[],s=(a("a1Th"),a("dRSK"),a("yT7P")),i=a("Kw5r"),o=a("LvDl"),c=a.n(o),l=a("wiDz"),u=a("MB/c"),d=a("UeuA"),m=a("vf3E"),h=a("0Bu0"),f={created:function(){this.isLoading||this.getCandles()},components:{spinner:u["a"],chart:d["a"],paperTradeSummary:h["a"],roundtrips:m["a"]},data:function(){return{candleFetch:"idle",candles:[],indicatorResults:[]}},computed:{id:function(){return this.$route.params.id},gekkos:function(){return this.$store.state.gekkos},archivedGekkos:function(){return this.$store.state.archivedGekkos},data:function(){return!!this.gekkos&&(c.a.has(this.gekkos,this.id)?this.gekkos[this.id]:!!c.a.has(this.archivedGekkos,this.id)&&this.archivedGekkos[this.id])},config:function(){return c.a.get(this,"data.config")},latestEvents:function(){return c.a.get(this,"data.events.latest")},initialEvents:function(){return c.a.get(this,"data.events.initial")},trades:function(){var t=c.a.get(this,"data.events.tradeCompleted")||[];return t.map(function(t){return Object(s["a"])({},t,{date:moment(t.date).unix()})})},roundtrips:function(){return c.a.get(this,"data.events.roundtrip")||[]},isLive:function(){return c.a.has(this.gekkos,this.id)},type:function(){return this.data.logType},isStratrunner:function(){return"watcher"!==this.type},isArchived:function(){return this.data.stopped},warmupRemaining:function(){if(!this.isStratrunner)return!1;if(this.isArchived)return!1;if(this.initialEvents.stratWarmupCompleted)return!1;if(!this.initialEvents.candle)return!1;var t=c.a.get(this.config,"tradingAdvisor.historySize");if(!t)return!1;if(!this.latestEvents.stratCandle)return!1;var e=moment.utc(this.latestEvents.stratCandle.start).add(2*c.a.get(this.config,"tradingAdvisor.candleSize"),"m"),a=e.diff(moment().utc());return humanizeDuration(a,{largest:2})},chartData:function(){return{stratCandles:this.candles,trades:this.trades,stratUpdates:this.indicatorResults}},report:function(){return c.a.get(this.latestEvents,"performanceReport")},stratName:function(){if(this.data)return this.data.config.tradingAdvisor.method},stratParams:function(){if(!this.data)return"Loading...";var t=i["a"].util.extend({},this.data.config[this.stratName]);return delete t.__empty,c.a.isEmpty(t)?"No parameters":JSON.stringify(t,null,4)},isLoading:function(){return!this.data||(!c.a.get(this.data,"events.initial.candle")||!c.a.get(this.data,"events.latest.candle"))},watcher:function(){var t=this;if(!this.isStratrunner)return!1;var e=i["a"].util.extend({},this.data.config.watch);return c.a.find(this.gekkos,function(a){return a.id!==t.id&&c.a.isEqual(e,a.config.watch)})},hasLeechers:function(){var t=this;if(this.isStratrunner)return!1;var e=i["a"].util.extend({},this.data.config.watch);return c.a.find(this.gekkos,function(a){return a.id!==t.id&&c.a.isEqual(e,a.config.watch)})}},watch:{},methods:{round:function(t){return(+t).toFixed(5)},humanizeDuration:function(t,e){return window.humanizeDuration(t,e)},moment:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return moment.utc(t)}),fmt:function(t){return moment.utc(t).format("YYYY-MM-DD HH:mm")},getCandles:function(){var t=this;if(!this.isLoading&&"fetching"!==this.candleFetch){this.candleFetch="fetching";var e=this.data.events.latest.candle.start,a=this.data.events.initial.candle.start,n=1;"watcher"!==this.type&&(n=this.data.config.tradingAdvisor.candleSize);var r={watch:this.data.config.watch,daterange:{to:e,from:a},candleSize:n};setTimeout(function(){Object(l["c"])("getCandles",r,function(e,a){if(t.candleFetch="fetched",!a||a.error||!c.a.isArray(a))return console.log(a);t.candles=a})},c.a.random(150,2500)),r.gekko_id=this.data.id,Object(l["c"])("getIndicatorResults",r,function(e,a){a&&!a.error&&c.a.isArray(a)||console.log(a),t.indicatorResults=a})}},stopGekko:function(){if(this.hasLeechers)return alert("This Gekko is fetching market data for multiple stratrunners, stop these first.");confirm("Are you sure you want to stop this Gekko?")&&Object(l["c"])("stopGekko",{id:this.data.id},function(t,e){console.log("stopped gekko")})},deleteGekko:function(){var t=this;if(!this.isArchived)return alert("This Gekko is still running, stop it first!");confirm("Are you sure you want to delete this Gekko?")&&Object(l["c"])("deleteGekko",{id:this.data.id},function(e,a){t.$router.push({path:"/live-gekkos/"})})},restartGekko:function(){if(!this.isArchived)return alert("This Gekko is still running, stop it first!");Object(l["c"])("restartGekko",{id:this.data.id},function(t,e){})}}},v=f,p=(a("/Dpa"),a("KHd+")),g=Object(p["a"])(v,n,r,!1,null,null,null);e["a"]=g.exports},ngcj:function(t,e,a){"use strict";var n=a("EAJ1"),r=a.n(n);r.a},nzng:function(t,e,a){},oWTr:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("div",{staticClass:"grd-row summary"},[a("div",{staticClass:"grd-row-col-3-6"},[a("table",{staticClass:"p1"},[a("tr",[a("th",[t._v("start time")]),a("td",[t._v(t._s(t.report.startTime))])]),a("tr",[a("th",[t._v("end time")]),a("td",[t._v(t._s(t.report.endTime))])]),a("tr",[a("th",[t._v("timespan")]),a("td",[t._v(t._s(t.report.timespan))])]),a("tr",[a("th",[t._v("start price")]),a("td",[t._v(t._s(t.round(t.report.startPrice))+" "+t._s(t.report.currency))])]),a("tr",[a("th",[t._v("end price")]),a("td",[t._v(t._s(t.round(t.report.endPrice))+" "+t._s(t.report.currency))])]),a("tr",[a("th",[t._v("market")]),a("td",[t._v(t._s(t.round(t.report.market))+"%")])])])]),a("paperTradeSummary",{attrs:{report:t.report}})],1)])},r=[],s=a("0Bu0"),i={props:["report"],components:{paperTradeSummary:s["a"]},methods:{round:function(t){return(+t).toFixed(5)}},computed:{profitClass:function(){return this.report.relativeProfit>0?"profit":"loss"}}},o=i,c=(a("WlXR"),a("KHd+")),l=Object(c["a"])(o,n,r,!1,null,null,null);e["a"]=l.exports},"ojU+":function(t,e,a){"use strict";var n=a("KYoj"),r=a.n(n);r.a},pd3X:function(t,e,a){},pyMo:function(t,e,a){},q431:function(t,e,a){"use strict";var n=a("ydmZ"),r=a.n(n);r.a},qDq4:function(t,e,a){"use strict";var n=a("nzng"),r=a.n(n);r.a},r0f2:function(t,e,a){"use strict";a.d(e,"b",function(){return s}),a.d(e,"a",function(){return r});var n,r,s,i=window.CONFIG.ui;"".concat(i.host);n="http://".concat("localhost",":").concat("3000").concat(i.path),r=n+"api/",s="ws://".concat("localhost",":").concat("3000").concat(i.path,"api")},rloZ:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grd"},[a("div",{staticClass:"px1"},[a("h3",[t._v("Paper trader")]),"closed"===t.toggle?a("a",{staticClass:"btn--primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.switchToggle(e)}}},[t._v("Change paper trader settings")]):t._e(),"open"===t.toggle?[a("p",[t._v("Settings:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rawPaperTraderParams,expression:"rawPaperTraderParams"}],staticClass:"params",domProps:{value:t.rawPaperTraderParams},on:{input:function(e){e.target.composing||(t.rawPaperTraderParams=e.target.value)}}}),t.rawPaperTraderParamsError?a("p",{staticClass:"bg--red p1"},[t._v(t._s(t.rawPaperTraderParamsError.message))]):t._e()]:t._e()],2)])},r=[],s=(a("LvDl"),a("wiDz")),i={created:function(){var t=this;Object(s["b"])("configPart/paperTrader",function(e,a){t.rawPaperTraderParams=a.part})},data:function(){return{rawPaperTraderParams:"",rawPaperTraderParamsError:!1,paperTraderParams:{},toggle:"closed"}},watch:{rawPaperTraderParams:function(){this.emitConfig()}},methods:{switchToggle:function(){"open"===this.toggle?this.toggle="closed":this.toggle="open"},emitConfig:function(){this.parseParams(),this.$emit("settings",this.paperTraderParams)},parseParams:function(){try{this.paperTraderParams=toml.parse(this.rawPaperTraderParams),this.paperTraderParams.reportRoundtrips=!0,this.rawPaperTraderParamsError=!1}catch(t){this.rawPaperTraderParamsError=t,this.paperTraderParams={}}}}},o=i,c=(a("0zrD"),a("KHd+")),l=Object(c["a"])(o,n,r,!1,null,null,null);e["a"]=l.exports},spvI:function(t,e,a){"use strict";a("Vd3H"),a("rGqo");var n=a("wiDz"),r={data:function(){return{datasets:[],datasetScanstate:"idle",unscannableMakets:[]}},methods:{scanDateRange:function(t,e){Object(n["c"])("scan",t,function(t,a){if(t)return e([]);var n=a;e(n)})},scan:function(){var t=this;this.datasetScanstate="scanning",Object(n["c"])("scansets",{},function(e,a){t.datasetScanstate="scanned",t.unscannableMakets=a.errors;var n=[];a.datasets.forEach(function(t){t.ranges.forEach(function(e,a){n.push({exchange:t.exchange,currency:t.currency,asset:t.asset,from:moment.unix(e.from).utc(),to:moment.unix(e.to).utc(),id:t.exchange+t.asset+t.currency+a})})}),n=n.sort(function(t,e){var a=t.to.diff(t.from),n=e.to.diff(e.from);return a<n?-1:a>n?1:0}).reverse(),t.datasets=n})}}};e["a"]=r},tc0r:function(t,e,a){},tr8f:function(t,e,a){"use strict";var n=a("h8ks"),r=a.n(n);r.a},tr8z:function(t,e,a){"use strict";var n=a("Ug4+"),r=a.n(n);r.a},uMTv:function(t,e,a){"use strict";var n=a("pyMo"),r=a.n(n);r.a},uXxc:function(t,e,a){},vf3E:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain roundtrips"},[a("h2",[t._v("Roundtrips")]),t.roundtrips.length?a("table",[a("thead",[t._m(0),t._l(t.roundtrips,function(e){return a("tr",[a("td",[t._v(t._s(t.fmt(e.entryAt)))]),a("td",[t._v(t._s(t.fmt(e.exitAt)))]),a("td",[t._v(t._s(t.diff(e.duration)))]),a("td",[t._v(t._s(t.round(e.entryBalance)))]),a("td",[t._v(t._s(t.round(e.exitBalance)))]),-1===Math.sign(e.pnl)?[a("td",{staticClass:"loss"},[t._v(t._s(Math.sign(e.pnl)*e.pnl.toFixed(2)))]),a("td",{staticClass:"loss"},[t._v(t._s(e.profit.toFixed(2))+"%")])]:[a("td",{staticClass:"profit"},[t._v(t._s(e.pnl.toFixed(2)))]),a("td",{staticClass:"profit"},[t._v(t._s(e.profit.toFixed(2))+"%")])]],2)})],2)]):t._e(),t.roundtrips.length?t._e():a("div",[a("p",[t._v("Not enough data to display")])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Entry at (UTC)")]),a("th",[t._v("Exit at (UTC)")]),a("th",[t._v("Exposure")]),a("th",[t._v("Entry balance")]),a("th",[t._v("Exit balance")]),a("th",[t._v("P&L")]),a("th",[t._v("Profit")])])}],s=a("LvDl"),i=a.n(s),o={props:["roundtrips"],data:function(){return{}},methods:{diff:function(t){return moment.duration(t).humanize()},humanizeDuration:function(t){return window.humanizeDuration(t)},fmt:function(t){var e;return e=i.a.isNumber(t)?moment.unix(t):moment(t).utc(),e.utc().format("YYYY-MM-DD HH:mm")},round:function(t){return(+t).toFixed(3)}}},c=o,l=(a("dW8q"),a("KHd+")),u=Object(l["a"])(c,n,r,!1,null,null,null);e["a"]=u.exports},vwRV:function(t,e,a){},w3yp:function(t,e,a){},wVP4:function(t,e,a){"use strict";var n=a("vwRV"),r=a.n(n);r.a},wVPO:function(t,e,a){"use strict";var n=a("uXxc"),r=a.n(n);r.a},wiDz:function(t,e,a){"use strict";a.d(e,"c",function(){return l}),a.d(e,"b",function(){return u}),a.d(e,"a",function(){return d});var n=a("24Ii"),r=a.n(n),s=a("TrxG"),i=a.n(s),o=a("r0f2"),c=function(t){return function(e,a){if(e)return t(e);if(!a.text)return t("no data");var n=JSON.parse(a.text);t(!1,n)}},l=function(t,e,a){r.a.post(o["a"]+t).use(i.a).send(e).end(c(a))},u=function(t,e){r.a.get(o["a"]+t).use(i.a).end(c(e))},d=function(t,e){r.a.delete(o["a"]+t).use(i.a).end(c(e))}},ydmZ:function(t,e,a){},yomC:function(t,e,a){"use strict";var n=a("EfWa"),r=a.n(n);r.a},yuKf:function(t,e,a){}});
//# sourceMappingURL=app.738298a7.js.map